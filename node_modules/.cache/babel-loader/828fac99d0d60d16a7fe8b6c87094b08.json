{"remainingRequest":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/babel-loader/lib/index.js!/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-picture-upload/src/vue-picture-upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-picture-upload/src/vue-picture-upload.vue","mtime":1660392216287},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5mcm9tIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLml0ZXJhdG9yIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7CmltcG9ydCAicmVnZW5lcmF0b3ItcnVudGltZS9ydW50aW1lIjsKaW1wb3J0IF9hc3luY1RvR2VuZXJhdG9yIGZyb20gIi9Vc2Vycy9tYWNib29rcHJvL0lkZWFQcm9qZWN0cy9jb2xsZWN0ZWRvbm5lZS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBwcm9wczogewogICAgSW1hZ2VzOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIGtleU5hbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICByZXF1aXJlZDogdHJ1ZQogICAgfSwKICAgIHZhbHVlTmFtZTogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIHJlcXVpcmVkOiB0cnVlCiAgICB9LAogICAgbXVsdGlwbGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogdHJ1ZQogICAgfSwKICAgIGFjY2VwdDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICIuanBnLCAucG5nLCAuc3ZnIgogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByZUxvYWRlZDogW10KICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBTZWxlY3Q6IGZ1bmN0aW9uIFNlbGVjdCgpIHsKICAgICAgdGhpcy4kcmVmcy5maWxlLmNsaWNrKCk7CiAgICB9LAogICAgUmVtb3ZlOiBmdW5jdGlvbiBSZW1vdmUoZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgY29uc29sZS5sb2coZSk7CiAgICAgIHRoaXMuJGVtaXQoInJlbW92ZSIsIGVbdGhpcy5rZXlOYW1lXSk7CiAgICAgIHZhciBpbmRleCA9IHRoaXMuSW1hZ2VzLmluZGV4T2YodGhpcy5JbWFnZXMuZmlsdGVyKGZ1bmN0aW9uIChlbCkgewogICAgICAgIHJldHVybiBlbFtfdGhpcy5rZXlOYW1lXSA9PT0gZVtfdGhpcy5rZXlOYW1lXTsKICAgICAgfSlbMF0pOwoKICAgICAgaWYgKGluZGV4IHx8IGluZGV4ID09PSAwKSB7CiAgICAgICAgdGhpcy5JbWFnZXMuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfQogICAgfSwKICAgIFJlbW92ZUZyb21CdWZlcjogZnVuY3Rpb24gUmVtb3ZlRnJvbUJ1ZmVyKGUpIHsKICAgICAgdmFyIGluZGV4ID0gdGhpcy5wcmVMb2FkZWQuaW5kZXhPZih0aGlzLnByZUxvYWRlZC5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgcmV0dXJuIGVsLm5hbWUgPT09IGUubmFtZTsKICAgICAgfSlbMF0pOwoKICAgICAgaWYgKGluZGV4IHx8IGluZGV4ID09PSAwKSB7CiAgICAgICAgdGhpcy5wcmVMb2FkZWQuc3BsaWNlKGluZGV4LCAxKTsKICAgICAgfQogICAgfSwKICAgIFVwbG9hZDogZnVuY3Rpb24gVXBsb2FkKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIEFycmF5LmZyb20odGhpcy5wcmVMb2FkZWQpLmZvckVhY2goZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgX3RoaXMyLiRlbWl0KCJ1cGxvYWQiLCBlbC5pbWFnZSk7CiAgICAgIH0pOwogICAgICB0aGlzLnByZUxvYWRlZCA9IFtdOwogICAgfSwKICAgIGhhbmRsZUZpbGVVcGxvYWQ6IGZ1bmN0aW9uIGhhbmRsZUZpbGVVcGxvYWQoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZmlsZXM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUkKF9jb250ZXh0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0LnByZXYgPSBfY29udGV4dC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZmlsZXMgPSBfdGhpczMuJHJlZnMuZmlsZS5maWxlczsKICAgICAgICAgICAgICAgIEFycmF5LmZyb20oZmlsZXMpLmZvckVhY2goZnVuY3Rpb24gKGZpbGUpIHsKICAgICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7CgogICAgICAgICAgICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24gKGUpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczMucHJlTG9hZGVkLnB1c2goewogICAgICAgICAgICAgICAgICAgICAgaW1hZ2U6IGUudGFyZ2V0LnJlc3VsdCwKICAgICAgICAgICAgICAgICAgICAgIG5hbWU6IGZpbGUubmFtZQogICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGZpbGVzKTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIEdldFN0eWxlOiBmdW5jdGlvbiBHZXRTdHlsZShpbWFnZSkgewogICAgICByZXR1cm4gewogICAgICAgICJiYWNrZ3JvdW5kLWltYWdlIjogInVybCgiICsgaW1hZ2UgKyAiKSIKICAgICAgfTsKICAgIH0KICB9LAogIG5hbWU6ICJ2dWUtcGljdHVyZS11cGxvYWQiCn07"},{"version":3,"sources":["vue-picture-upload.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"image_container\">\r\n      <div class=\"image\" v-for=\"i in Images\" :key=\"i[keyName]\" :style=\"GetStyle(i[valueName])\">\r\n        <div class=\"image_button_constainer\">\r\n          <button class=\"reset remove\" @click=\"Remove(i)\">+</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"outline q-pa-sm row justify-around\" v-if=\"preLoaded.length > 0\">\r\n        <div class=\"image\" v-for=\"i in preLoaded\" :key=\"i.name\" :style=\"GetStyle(i.image)\">\r\n          <div class=\"image_button_constainer\">\r\n            <button class=\"reset remove\" @click=\"RemoveFromBufer(i)\">+</button>\r\n          </div>\r\n        </div>\r\n        <button class=\"reset load\" @click=\"Upload()\">Загрузить</button>\r\n      </div>\r\n      <input type=\"file\" id=\"file\" ref=\"file\" :accept=\"accept\" :multiple=\"multiple\" v-on:change=\"handleFileUpload()\" />\r\n      <button class=\"add reset\" @click=\"Select()\">+</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    Images: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    keyName: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    valueName: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    accept: {\r\n      type: String,\r\n      default: \".jpg, .png, .svg\"\r\n    }\r\n  },\r\n  data: () => ({\r\n    preLoaded: []\r\n  }),\r\n  methods: {\r\n    Select() {\r\n      this.$refs.file.click();\r\n    },\r\n    Remove(e) {\r\n      console.log(e);\r\n      this.$emit(\"remove\", e[this.keyName]);\r\n      const index = this.Images.indexOf(\r\n        this.Images.filter(el => el[this.keyName] === e[this.keyName])[0]\r\n      );\r\n      if (index || index === 0) {\r\n        this.Images.splice(index, 1);\r\n      }\r\n    },\r\n    RemoveFromBufer(e) {\r\n      const index = this.preLoaded.indexOf(\r\n        this.preLoaded.filter(el => el.name === e.name)[0]\r\n      );\r\n      if (index || index === 0) {\r\n        this.preLoaded.splice(index, 1);\r\n      }\r\n    },\r\n    Upload() {\r\n      Array.from(this.preLoaded).forEach(el => {\r\n        this.$emit(\"upload\", el.image);\r\n      });\r\n      this.preLoaded = [];\r\n    },\r\n    async handleFileUpload() {\r\n      const files = this.$refs.file.files;\r\n      Array.from(files).forEach(file => {\r\n        const reader = new FileReader();\r\n        reader.onload = e => {\r\n          this.preLoaded.push({ image: e.target.result, name: file.name });\r\n        };\r\n        reader.readAsDataURL(file);\r\n      });\r\n\r\n      console.log(files);\r\n    },\r\n    GetStyle(image) {\r\n      return {\r\n        \"background-image\": \"url(\" + image + \")\"\r\n      };\r\n    }\r\n  },\r\n  name: \"vue-picture-upload\"\r\n};\r\n</script>\r\n<style scoped>\r\n#file {\r\n  display: none;\r\n}\r\n.image_container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  justify-items: center;\r\n}\r\n.image {\r\n  width: 100px;\r\n  height: 70px;\r\n  margin: 5px;\r\n  background-size: cover;\r\n}\r\n.reset {\r\n  background: none;\r\n  border: none;\r\n  outline: none;\r\n}\r\n.add {\r\n  cursor: pointer;\r\n  font-size: 40px;\r\n  margin: 10px 20px;\r\n  transition-duration: 0.4s;\r\n}\r\n.add:hover {\r\n  transition-duration: 0.1s;\r\n  color: lightskyblue;\r\n}\r\n.add:active {\r\n  color: lightcoral;\r\n}\r\n.image_button_constainer {\r\n  background: rgba(17, 16, 16, 0.137);\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n.remove {\r\n  top: 0px;\r\n  right: 0px;\r\n  transform: rotate(45deg); /* Standard syntax */\r\n  cursor: pointer;\r\n  color: white;\r\n  font-size: 13pt;\r\n  transition-duration: 0.3s;\r\n  text-shadow: 0px 0px 2px white; /* Параметры тени */\r\n}\r\n.remove :hover {\r\n  color: red;\r\n  text-shadow: 0px 0px 2px red; /* Параметры тени */\r\n}\r\n.outline {\r\n  border: 1px gray solid;\r\n  border-radius: 3px;\r\n}\r\n.load {\r\n  font-size: 14pt;\r\n  cursor: pointer;\r\n  transition-duration: 0.3s;\r\n}\r\n.load:hover {\r\n  text-decoration: underline;\r\n}\r\n.justify-around {\r\n    justify-content: space-around;\r\n}\r\n</style>\r\n"],"sourceRoot":"node_modules/vue-picture-upload/src"}]}