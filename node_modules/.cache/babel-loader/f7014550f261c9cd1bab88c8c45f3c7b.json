{"remainingRequest":"C:\\wamp64\\www\\toolsmctc\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\toolsmctc\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\wamp64\\www\\toolsmctc\\src\\store\\modules\\useAutocomplete.js","dependencies":[{"path":"C:\\wamp64\\www\\toolsmctc\\src\\store\\modules\\useAutocomplete.js","mtime":1603802155411},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi93YW1wNjQvd3d3L3Rvb2xzbWN0Yy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCB7IHRvUmVmcywgcmVhY3RpdmUgfSBmcm9tICJAdnVlL2NvbXBvc2l0aW9uLWFwaSI7CmltcG9ydCBheGlvcyBmcm9tICJheGlvcyI7CnZhciByZXNvdXJjZV91cmwgPSAiaHR0cDovLzE5Mi4xNjguMC4xMDQ6ODA4MC9hcGkvdjEvIjsKCnZhciB1c2VBdXRvY29tcGxldGUgPSBmdW5jdGlvbiB1c2VBdXRvY29tcGxldGUob3B0aW9ucywga2V5LCBrZXkxKSB7CiAgdmFyIHN0YXRlID0gcmVhY3RpdmUoewogICAgdXNlcklucHV0OiAiIiwKICAgIGZpbHRlcmVkU3VnZ2VzdGlvbnM6IFtdLAogICAgc3VnZ2VzdGlvbnM6IG9wdGlvbnMsCiAgICAvL3NlbGVjdGVkSXRlbTp7fSwKICAgIGNsaWVudHNJZDogMCwKICAgIGNvbnRhY3RzSWQ6IDAsCiAgICB2ZW5kZXVyc0lkOiAwCiAgfSk7CgogIHZhciBzZWxlY3RlZCA9IGZ1bmN0aW9uIHNlbGVjdGVkKGRhdGEpIHsKICAgIHZhciBzID0gZGF0YS5tc2c7CiAgICBjb25zb2xlLmxvZygnY2xpY2snLCBzKTsKICAgIHZhciBfaXRlbSA9IGRhdGEuaXRlbTsKICAgIHN0YXRlLnVzZXJJbnB1dCA9IF9pdGVtW2tleV0gKyAiIC0tICIgKyBfaXRlbVtrZXkxXTsKICAgIHN0YXRlLmZpbHRlcmVkU3VnZ2VzdGlvbnMgPSBbXTsgLy9zdGF0ZS5zZWxlY3RlZEl0ZW0gPSB7dXNlcklucHV0OnN0YXRlLnVzZXJJbnB1dCxpdGVtOnN9CgogICAgc3dpdGNoIChzKSB7CiAgICAgIGNhc2UgJ2NsaWVudHMnOgogICAgICAgIHN0YXRlLmNsaWVudHNJZCA9IF9pdGVtWyJjbGllbnRJZCJdOwogICAgICAgIGNvbnNvbGUubG9nKCdjbGllbnRzSWQnLCBzdGF0ZS5jbGllbnRzSWQpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAndmVuZGV1cnMnOgogICAgICAgIHN0YXRlLnZlbmRldXJzSWQgPSBfaXRlbVsiY2xpZW50SWQiXTsKICAgICAgICBjb25zb2xlLmxvZygndmVuZGV1cnNJZCcsIHN0YXRlLnZlbmRldXJzSWQpOwogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnY29udGFjdHMnOgogICAgICAgIHN0YXRlLmNvbnRhY3RzSWQgPSBfaXRlbVsiY2xpZW50SWQiXTsKICAgICAgICBjb25zb2xlLmxvZygnY29udGFjdHNJZCcsIHN0YXRlLmNvbnRhY3RzSWQpOwogICAgICAgIGJyZWFrOwogICAgfQogIH07CgogIHZhciBkZWxldGVUZXh0ID0gZnVuY3Rpb24gZGVsZXRlVGV4dChfaXRlbSkgewogICAgY29uc29sZS5sb2coJ2V2ZW50dycsIF9pdGVtKTsKICAgIHN0YXRlLnVzZXJJbnB1dCA9ICIiOwogICAgc3RhdGUuZmlsdGVyZWRTdWdnZXN0aW9ucyA9IFtdOyAvL3N0YXRlLnNlbGVjdGVkSXRlbSA9IHt9CiAgfTsKCiAgdmFyIHNlYXJjaFBhcnRuZXJzID0gZnVuY3Rpb24gc2VhcmNoUGFydG5lcnMoZGF0YSkgewogICAgaWYgKHRoaXMudGltZXIpIHsKICAgICAgY2xlYXJUaW1lb3V0KHRoaXMudGltZXIpOwogICAgICB0aGlzLnRpbWVyID0gbnVsbDsKICAgIH0KCiAgICB0aGlzLnRpbWVyID0gc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIGF4aW9zLmdldChyZXNvdXJjZV91cmwgKyAnc2VhcmNoLycgKyBkYXRhLnZhbCArICcvJyArIHN0YXRlLnVzZXJJbnB1dCkudGhlbihmdW5jdGlvbiAoY3VzdG9tZXIpIHsKICAgICAgICAvLwogICAgICAgIC8vY29tbWl0KCJTRVRSRVNVTFRTRUFSQ0giLGN1c3RvbWVyLmRhdGEuZGF0YSkKICAgICAgICBzdGF0ZS5zdWdnZXN0aW9ucyA9IGN1c3RvbWVyLmRhdGEuZGF0YTsKICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0Jywgc3RhdGUuc3VnZ2VzdGlvbnMpOwogICAgICAgIG9uQ2hhbmdlKCd5ZXMnKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycm9yKSB7CiAgICAgICAgY29uc29sZS5sb2coJ3Byb2R1Y3RzX2Vycm9yJywgZXJyb3IpOyAvLyBIYW5kbGUgRXJyb3JzIGhlcmUuCiAgICAgICAgLy8gdmFyIGVycm9yQ29kZSA9IGVycm9yLmNvZGU7CiAgICAgICAgLy8gdmFyIGVycm9yTWVzc2FnZSA9IGVycm9yLm1lc3NhZ2U7CiAgICAgICAgLy8gY29uc29sZS5sb2coZXJyb3IpOwogICAgICAgIC8vY29tbWl0KCJzZXRFcnJvciIsIGVycm9yKTsKICAgICAgICAvLyAuLi4KICAgICAgfSk7CiAgICB9LCAyMDAwKTsKICB9OwoKICB2YXIgb25DaGFuZ2UgPSBmdW5jdGlvbiBvbkNoYW5nZShfZXZlbnQpIHsKICAgIC8qX2V2ZW50ID0+IHsqLwogICAgY29uc29sZS5sb2coJ2V2ZW50JywgX2V2ZW50KTsKICAgIHZhciBpID0gc3RhdGUudXNlcklucHV0OyAvL3N0YXRlLnNlbGVjdGVkSXRlbSA9IHt1c2VySW5wdXQ6IHN0YXRlLnVzZXJJbnB1dCwgaXRlbTogbnVsbH07CgogICAgaWYgKGkubGVuZ3RoID09PSAwKSB7CiAgICAgIHN0YXRlLmZpbHRlcmVkU3VnZ2VzdGlvbnMgPSBbXTsKICAgICAgcmV0dXJuOwogICAgfQoKICAgIHZhciByID0gc3RhdGUuc3VnZ2VzdGlvbnMuZmlsdGVyKGZ1bmN0aW9uIChzdWdnZXN0aW9uKSB7CiAgICAgIHJldHVybiBzdWdnZXN0aW9uW2tleV0udG9Mb3dlckNhc2UoKS5pbmRleE9mKGkudG9Mb3dlckNhc2UoKSkgPiAtMTsKICAgIH0pOwogICAgc3RhdGUuZmlsdGVyZWRTdWdnZXN0aW9ucyA9IHI7CiAgICBjb25zb2xlLmxvZygic2V0RXJyb3IiLCByKTsKICB9OwoKICByZXR1cm4gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCB0b1JlZnMoc3RhdGUpKSwge30sIHsKICAgIHNlbGVjdGVkOiBzZWxlY3RlZCwKICAgIHNlYXJjaFBhcnRuZXJzOiBzZWFyY2hQYXJ0bmVycywKICAgIGRlbGV0ZVRleHQ6IGRlbGV0ZVRleHQKICB9KTsKfTsKCmV4cG9ydCBkZWZhdWx0IHVzZUF1dG9jb21wbGV0ZTs="},{"version":3,"sources":["C:/wamp64/www/toolsmctc/src/store/modules/useAutocomplete.js"],"names":["toRefs","reactive","axios","resource_url","useAutocomplete","options","key","key1","state","userInput","filteredSuggestions","suggestions","clientsId","contactsId","vendeursId","selected","data","s","msg","console","log","_item","item","deleteText","searchPartners","timer","clearTimeout","setTimeout","get","val","then","customer","onChange","catch","error","_event","i","length","r","filter","suggestion","toLowerCase","indexOf"],"mappings":"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","sourcesContent":["import { toRefs , reactive} from \"@vue/composition-api\"\r\nimport axios from \"axios\";\r\nconst resource_url = \"http://192.168.0.104:8080/api/v1/\";\r\nconst useAutocomplete = (options,key,key1) => {\r\n\r\n    let state = reactive({\r\n        userInput: \"\",\r\n        filteredSuggestions:[],\r\n        suggestions:options,\r\n        //selectedItem:{},\r\n        clientsId:0,\r\n        contactsId:0,\r\n        vendeursId:0\r\n    })\r\n\r\n\r\n    let selected = function (data){\r\n\r\n        let s = data.msg\r\n        console.log('click',s);\r\n        let _item = data.item\r\n\r\n        state.userInput = _item[key] + \" -- \" +_item[key1] ;\r\n        state.filteredSuggestions = [];\r\n        //state.selectedItem = {userInput:state.userInput,item:s}\r\n\r\n        switch(s){\r\n            case 'clients':\r\n                state.clientsId = _item[\"clientId\"]\r\n                console.log('clientsId', state.clientsId);\r\n                break;\r\n            case 'vendeurs':\r\n                state.vendeursId = _item[\"clientId\"]\r\n                console.log('vendeursId', state.vendeursId);\r\n                break;\r\n            case 'contacts':\r\n                state.contactsId = _item[\"clientId\"]\r\n                console.log('contactsId', state.contactsId);\r\n                break;\r\n\r\n        }\r\n\r\n\r\n    }\r\n\r\n\r\n    let deleteText = _item => {\r\n        console.log('eventw',_item);\r\n        state.userInput = \"\";\r\n        state.filteredSuggestions = [];\r\n        //state.selectedItem = {}\r\n\r\n    }\r\n\r\n\r\n    let searchPartners = function (data){\r\n\r\n        if (this.timer) {\r\n            clearTimeout(this.timer);\r\n            this.timer = null;\r\n        }\r\n        this.timer = setTimeout(() => {\r\n            axios.get(resource_url+'search/'+data.val+'/'+state.userInput)\r\n                .then(customer => {\r\n\r\n                    //\r\n                    //commit(\"SETRESULTSEARCH\",customer.data.data)\r\n                    state.suggestions = customer.data.data;\r\n                    console.log('result',state.suggestions);\r\n                    onChange('yes')\r\n                })\r\n                .catch(function(error) {\r\n                    console.log('products_error',error);\r\n                    // Handle Errors here.\r\n                    // var errorCode = error.code;\r\n                    // var errorMessage = error.message;\r\n                    // console.log(error);\r\n\r\n                    //commit(\"setError\", error);\r\n                    // ...\r\n                });\r\n\r\n        }, 2000);\r\n    }\r\n\r\n    let onChange = function(_event){  /*_event => {*/\r\n\r\n            console.log('event', _event);\r\n            let i = state.userInput;\r\n            //state.selectedItem = {userInput: state.userInput, item: null};\r\n\r\n            if (i.length === 0) {\r\n                state.filteredSuggestions = [];\r\n                return;\r\n            }\r\n\r\n            const r = state.suggestions.filter(\r\n                suggestion => suggestion[key].toLowerCase().indexOf(i.toLowerCase()) > -1,\r\n            );\r\n\r\n            state.filteredSuggestions = r\r\n            console.log(\"setError\", r);\r\n    }\r\n\r\n\r\n    return {\r\n        ...toRefs(state),\r\n        selected,\r\n        searchPartners,\r\n        deleteText\r\n    };\r\n\r\n}\r\n\r\nexport default  useAutocomplete;"]}]}