{"remainingRequest":"C:\\wamp64\\www\\toolsmctc\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\toolsmctc\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\wamp64\\www\\toolsmctc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\wamp64\\www\\toolsmctc\\src\\components\\webcam.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\wamp64\\www\\toolsmctc\\src\\components\\webcam.vue","mtime":1614085630461},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaCI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiVnVlV2ViQ2FtIiwKICBwcm9wczogewogICAgd2lkdGg6IHsKICAgICAgdHlwZTogW051bWJlciwgU3RyaW5nXSwKICAgICAgZGVmYXVsdDogIjEwMCUiCiAgICB9LAogICAgaGVpZ2h0OiB7CiAgICAgIHR5cGU6IFtOdW1iZXIsIFN0cmluZ10sCiAgICAgIGRlZmF1bHQ6IDUwMAogICAgfSwKICAgIGF1dG9wbGF5OiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0sCiAgICBzY3JlZW5zaG90Rm9ybWF0OiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogImltYWdlL2pwZWciCiAgICB9LAogICAgc2VsZWN0Rmlyc3REZXZpY2U6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBkZXZpY2VJZDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0sCiAgICBwbGF5c2lubGluZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9LAogICAgcmVzb2x1dGlvbjogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwsCiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIHZhbHVlLmhlaWdodCAmJiB2YWx1ZS53aWR0aDsKICAgICAgfQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHNvdXJjZTogbnVsbCwKICAgICAgY2FudmFzOiBudWxsLAogICAgICBjYW1lcmFzTGlzdEVtaXR0ZWQ6IGZhbHNlLAogICAgICBjYW1lcmFzOiBbXQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICBkZXZpY2VJZDogZnVuY3Rpb24gZGV2aWNlSWQoaWQpIHsKICAgICAgdGhpcy5jaGFuZ2VDYW1lcmEoaWQpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuc2V0dXBNZWRpYSgpOwogIH0sCiAgYmVmb3JlRGVzdHJveTogZnVuY3Rpb24gYmVmb3JlRGVzdHJveSgpIHsKICAgIHRoaXMuc3RvcCgpOwogIH0sCiAgbWV0aG9kczogewogICAgLyoqCiAgICAgKiBnZXQgdXNlciBtZWRpYQogICAgICovCiAgICBsZWdhY3lHZXRVc2VyTWVkaWFTdXBwb3J0OiBmdW5jdGlvbiBsZWdhY3lHZXRVc2VyTWVkaWFTdXBwb3J0KCkgewogICAgICByZXR1cm4gZnVuY3Rpb24gKGNvbnN0cmFpbnRzKSB7CiAgICAgICAgLy8gRmlyc3QgZ2V0IGFob2xkIG9mIHRoZSBsZWdhY3kgZ2V0VXNlck1lZGlhLCBpZiBwcmVzZW50CiAgICAgICAgdmFyIGdldFVzZXJNZWRpYSA9IG5hdmlnYXRvci5nZXRVc2VyTWVkaWEgfHwgbmF2aWdhdG9yLndlYmtpdEdldFVzZXJNZWRpYSB8fCBuYXZpZ2F0b3IubW96R2V0VXNlck1lZGlhIHx8IG5hdmlnYXRvci5tc0dldFVzZXJNZWRpYSB8fCBuYXZpZ2F0b3Iub0dldFVzZXJNZWRpYTsgLy8gU29tZSBicm93c2VycyBqdXN0IGRvbid0IGltcGxlbWVudCBpdCAtIHJldHVybiBhIHJlamVjdGVkIHByb21pc2Ugd2l0aCBhbiBlcnJvcgogICAgICAgIC8vIHRvIGtlZXAgYSBjb25zaXN0ZW50IGludGVyZmFjZQoKICAgICAgICBpZiAoIWdldFVzZXJNZWRpYSkgewogICAgICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBFcnJvcigiZ2V0VXNlck1lZGlhIGlzIG5vdCBpbXBsZW1lbnRlZCBpbiB0aGlzIGJyb3dzZXIiKSk7CiAgICAgICAgfSAvLyBPdGhlcndpc2UsIHdyYXAgdGhlIGNhbGwgdG8gdGhlIG9sZCBuYXZpZ2F0b3IuZ2V0VXNlck1lZGlhIHdpdGggYSBQcm9taXNlCgoKICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc29sdmUsIHJlamVjdCkgewogICAgICAgICAgZ2V0VXNlck1lZGlhLmNhbGwobmF2aWdhdG9yLCBjb25zdHJhaW50cywgcmVzb2x2ZSwgcmVqZWN0KTsKICAgICAgICB9KTsKICAgICAgfTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBzZXR1cCBtZWRpYQogICAgICovCiAgICBzZXR1cE1lZGlhOiBmdW5jdGlvbiBzZXR1cE1lZGlhKCkgewogICAgICBpZiAobmF2aWdhdG9yLm1lZGlhRGV2aWNlcyA9PT0gdW5kZWZpbmVkKSB7CiAgICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcyA9IHt9OwogICAgICB9CgogICAgICBpZiAobmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEgPT09IHVuZGVmaW5lZCkgewogICAgICAgIG5hdmlnYXRvci5tZWRpYURldmljZXMuZ2V0VXNlck1lZGlhID0gdGhpcy5sZWdhY3lHZXRVc2VyTWVkaWFTdXBwb3J0KCk7CiAgICAgIH0KCiAgICAgIHRoaXMudGVzdE1lZGlhQWNjZXNzKCk7CiAgICB9LAoKICAgIC8qKgogICAgICogbG9hZCBhdmFpbGFibGUgY2FtZXJhcwogICAgICovCiAgICBsb2FkQ2FtZXJhczogZnVuY3Rpb24gbG9hZENhbWVyYXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBuYXZpZ2F0b3IubWVkaWFEZXZpY2VzLmVudW1lcmF0ZURldmljZXMoKS50aGVuKGZ1bmN0aW9uIChkZXZpY2VJbmZvcykgewogICAgICAgIGZvciAodmFyIGkgPSAwOyBpICE9PSBkZXZpY2VJbmZvcy5sZW5ndGg7ICsraSkgewogICAgICAgICAgdmFyIGRldmljZUluZm8gPSBkZXZpY2VJbmZvc1tpXTsKCiAgICAgICAgICBpZiAoZGV2aWNlSW5mby5raW5kID09PSAidmlkZW9pbnB1dCIpIHsKICAgICAgICAgICAgX3RoaXMuY2FtZXJhcy5wdXNoKGRldmljZUluZm8pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgaWYgKCFfdGhpcy5jYW1lcmFzTGlzdEVtaXR0ZWQpIHsKICAgICAgICAgIGlmIChfdGhpcy5zZWxlY3RGaXJzdERldmljZSAmJiBfdGhpcy5jYW1lcmFzLmxlbmd0aCA+IDApIHsKICAgICAgICAgICAgX3RoaXMuZGV2aWNlSWQgPSBfdGhpcy5jYW1lcmFzWzBdLmRldmljZUlkOwogICAgICAgICAgfQoKICAgICAgICAgIF90aGlzLiRlbWl0KCJjYW1lcmFzIiwgX3RoaXMuY2FtZXJhcyk7CgogICAgICAgICAgX3RoaXMuY2FtZXJhc0xpc3RFbWl0dGVkID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIHJldHVybiBfdGhpcy4kZW1pdCgibm90c3VwcG9ydGVkIiwgZXJyb3IpOwogICAgICB9KTsKICAgIH0sCgogICAgLyoqCiAgICAgKiBjaGFuZ2UgdG8gYSBkaWZmZXJlbnQgY2FtZXJhIHN0cmVhbSwgbGlrZSBmcm9udCBhbmQgYmFjayBjYW1lcmEgb24gcGhvbmVzCiAgICAgKi8KICAgIGNoYW5nZUNhbWVyYTogZnVuY3Rpb24gY2hhbmdlQ2FtZXJhKGRldmljZUlkKSB7CiAgICAgIHRoaXMuc3RvcCgpOwogICAgICB0aGlzLiRlbWl0KCJjYW1lcmEtY2hhbmdlIiwgZGV2aWNlSWQpOwogICAgICB0aGlzLmxvYWRDYW1lcmEoZGV2aWNlSWQpOwogICAgfSwKCiAgICAvKioKICAgICAqIGxvYWQgdGhlIHN0cmVhbSB0byB0aGUKICAgICAqLwogICAgbG9hZFNyY1N0cmVhbTogZnVuY3Rpb24gbG9hZFNyY1N0cmVhbShzdHJlYW0pIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAoInNyY09iamVjdCIgaW4gdGhpcy4kcmVmcy52aWRlbykgewogICAgICAgIC8vIG5ldyBicm93c2VycyBhcGkKICAgICAgICB0aGlzLiRyZWZzLnZpZGVvLnNyY09iamVjdCA9IHN0cmVhbTsKICAgICAgfSBlbHNlIHsKICAgICAgICAvLyBvbGQgYnJvc3dlcnMKICAgICAgICB0aGlzLnNvdXJjZSA9IHdpbmRvdy5IVE1MTWVkaWFFbGVtZW50LnNyY09iamVjdChzdHJlYW0pOwogICAgICB9IC8vIEVtaXQgdmlkZW8gc3RhcnQvbGl2ZSBldmVudAoKCiAgICAgIHRoaXMuJHJlZnMudmlkZW8ub25sb2FkZWRtZXRhZGF0YSA9IGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuJGVtaXQoInZpZGVvLWxpdmUiLCBzdHJlYW0pOwogICAgICB9OwoKICAgICAgdGhpcy4kZW1pdCgic3RhcnRlZCIsIHN0cmVhbSk7CiAgICB9LAoKICAgIC8qKgogICAgICogc3RvcCB0aGUgc2VsZWN0ZWQgc3RyZWFtZWQgdmlkZW8gdG8gY2hhbmdlIGNhbWVyYQogICAgICovCiAgICBzdG9wU3RyZWFtZWRWaWRlbzogZnVuY3Rpb24gc3RvcFN0cmVhbWVkVmlkZW8odmlkZW9FbGVtKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIHN0cmVhbSA9IHZpZGVvRWxlbS5zcmNPYmplY3Q7CiAgICAgIHZhciB0cmFja3MgPSBzdHJlYW0uZ2V0VHJhY2tzKCk7CiAgICAgIHRyYWNrcy5mb3JFYWNoKGZ1bmN0aW9uICh0cmFjaykgewogICAgICAgIC8vIHN0b3BzIHRoZSB2aWRlbyB0cmFjawogICAgICAgIHRyYWNrLnN0b3AoKTsKCiAgICAgICAgX3RoaXMzLiRlbWl0KCJzdG9wcGVkIiwgc3RyZWFtKTsKCiAgICAgICAgX3RoaXMzLiRyZWZzLnZpZGVvLnNyY09iamVjdCA9IG51bGw7CiAgICAgICAgX3RoaXMzLnNvdXJjZSA9IG51bGw7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIHN0b3AgdGhlIHZpZGVvCiAgICBzdG9wOiBmdW5jdGlvbiBzdG9wKCkgewogICAgICBpZiAodGhpcy4kcmVmcy52aWRlbyAhPT0gbnVsbCAmJiB0aGlzLiRyZWZzLnZpZGVvLnNyY09iamVjdCkgewogICAgICAgIHRoaXMuc3RvcFN0cmVhbWVkVmlkZW8odGhpcy4kcmVmcy52aWRlbyk7CiAgICAgIH0KICAgIH0sCiAgICAvLyBzdGFydCB0aGUgdmlkZW8KICAgIHN0YXJ0OiBmdW5jdGlvbiBzdGFydCgpIHsKICAgICAgaWYgKHRoaXMuZGV2aWNlSWQpIHsKICAgICAgICB0aGlzLmxvYWRDYW1lcmEodGhpcy5kZXZpY2VJZCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyBwYXVzZSB0aGUgdmlkZW8KICAgIHBhdXNlOiBmdW5jdGlvbiBwYXVzZSgpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMudmlkZW8gIT09IG51bGwgJiYgdGhpcy4kcmVmcy52aWRlby5zcmNPYmplY3QpIHsKICAgICAgICB0aGlzLiRyZWZzLnZpZGVvLnBhdXNlKCk7CiAgICAgIH0KICAgIH0sCiAgICAvLyByZXN1bWUgdGhlIHZpZGVvCiAgICByZXN1bWU6IGZ1bmN0aW9uIHJlc3VtZSgpIHsKICAgICAgaWYgKHRoaXMuJHJlZnMudmlkZW8gIT09IG51bGwgJiYgdGhpcy4kcmVmcy52aWRlby5zcmNPYmplY3QpIHsKICAgICAgICB0aGlzLiRyZWZzLnZpZGVvLnBsYXkoKTsKICAgICAgfQogICAgfSwKCiAgICAvKioKICAgICAqIHRlc3QgYWNjZXNzCiAgICAgKi8KICAgIHRlc3RNZWRpYUFjY2VzczogZnVuY3Rpb24gdGVzdE1lZGlhQWNjZXNzKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHZhciBjb25zdHJhaW50cyA9IHsKICAgICAgICB2aWRlbzogdHJ1ZQogICAgICB9OwoKICAgICAgaWYgKHRoaXMucmVzb2x1dGlvbikgewogICAgICAgIGNvbnN0cmFpbnRzLnZpZGVvID0ge307CiAgICAgICAgY29uc3RyYWludHMudmlkZW8uaGVpZ2h0ID0gdGhpcy5yZXNvbHV0aW9uLmhlaWdodDsKICAgICAgICBjb25zdHJhaW50cy52aWRlby53aWR0aCA9IHRoaXMucmVzb2x1dGlvbi53aWR0aDsKICAgICAgfQoKICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpLnRoZW4oZnVuY3Rpb24gKHN0cmVhbSkgewogICAgICAgIC8vTWFrZSBzdXJlIHRvIHN0b3AgdGhpcyBNZWRpYVN0cmVhbQogICAgICAgIHZhciB0cmFja3MgPSBzdHJlYW0uZ2V0VHJhY2tzKCk7CiAgICAgICAgdHJhY2tzLmZvckVhY2goZnVuY3Rpb24gKHRyYWNrKSB7CiAgICAgICAgICB0cmFjay5zdG9wKCk7CiAgICAgICAgfSk7CgogICAgICAgIF90aGlzNC5sb2FkQ2FtZXJhcygpOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gX3RoaXM0LiRlbWl0KCJlcnJvciIsIGVycm9yKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICogbG9hZCB0aGUgY2FtZXJhIHBhc3NlZCBhcyBpbmRleCEKICAgICAqLwogICAgbG9hZENhbWVyYTogZnVuY3Rpb24gbG9hZENhbWVyYShkZXZpY2UpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICB2YXIgY29uc3RyYWludHMgPSB7CiAgICAgICAgdmlkZW86IHsKICAgICAgICAgIGRldmljZUlkOiB7CiAgICAgICAgICAgIGV4YWN0OiBkZXZpY2UKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH07CgogICAgICBpZiAodGhpcy5yZXNvbHV0aW9uKSB7CiAgICAgICAgY29uc3RyYWludHMudmlkZW8uaGVpZ2h0ID0gdGhpcy5yZXNvbHV0aW9uLmhlaWdodDsKICAgICAgICBjb25zdHJhaW50cy52aWRlby53aWR0aCA9IHRoaXMucmVzb2x1dGlvbi53aWR0aDsKICAgICAgfQoKICAgICAgbmF2aWdhdG9yLm1lZGlhRGV2aWNlcy5nZXRVc2VyTWVkaWEoY29uc3RyYWludHMpLnRoZW4oZnVuY3Rpb24gKHN0cmVhbSkgewogICAgICAgIHJldHVybiBfdGhpczUubG9hZFNyY1N0cmVhbShzdHJlYW0pOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyb3IpIHsKICAgICAgICByZXR1cm4gX3RoaXM1LiRlbWl0KCJlcnJvciIsIGVycm9yKTsKICAgICAgfSk7CiAgICB9LAoKICAgIC8qKgogICAgICogY2FwdHVyZSBzY3JlZW5zaG90CiAgICAgKi8KICAgIGNhcHR1cmU6IGZ1bmN0aW9uIGNhcHR1cmUoKSB7CiAgICAgIHJldHVybiB0aGlzLmdldENhbnZhcygpLnRvRGF0YVVSTCh0aGlzLnNjcmVlbnNob3RGb3JtYXQpOwogICAgfSwKCiAgICAvKioKICAgICAqIGdldCBjYW52YXMKICAgICAqLwogICAgZ2V0Q2FudmFzOiBmdW5jdGlvbiBnZXRDYW52YXMoKSB7CiAgICAgIHZhciB2aWRlbyA9IHRoaXMuJHJlZnMudmlkZW87CgogICAgICBpZiAoIXRoaXMuY3R4KSB7CiAgICAgICAgdmFyIF9jYW52YXMgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCJjYW52YXMiKTsKCiAgICAgICAgX2NhbnZhcy5oZWlnaHQgPSB2aWRlby52aWRlb0hlaWdodDsKICAgICAgICBfY2FudmFzLndpZHRoID0gdmlkZW8udmlkZW9XaWR0aDsKICAgICAgICB0aGlzLmNhbnZhcyA9IF9jYW52YXM7CiAgICAgICAgdGhpcy5jdHggPSBfY2FudmFzLmdldENvbnRleHQoIjJkIik7CiAgICAgIH0KCiAgICAgIHZhciBjdHggPSB0aGlzLmN0eCwKICAgICAgICAgIGNhbnZhcyA9IHRoaXMuY2FudmFzOwogICAgICBjdHguZHJhd0ltYWdlKHZpZGVvLCAwLCAwLCBjYW52YXMud2lkdGgsIGNhbnZhcy5oZWlnaHQpOwogICAgICByZXR1cm4gY2FudmFzOwogICAgfQogIH0KfTs="},{"version":3,"sources":["webcam.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n    <video\r\n            ref=\"video\"\r\n            :width=\"width\"\r\n            :height=\"height\"\r\n            :src=\"source\"\r\n            :autoplay=\"autoplay\"\r\n            :playsinline=\"playsinline\"></video>\r\n</template>\r\n\r\n<script>\r\n    export default {\r\n        name: \"VueWebCam\",\r\n        props: {\r\n            width: {\r\n                type: [Number, String],\r\n                default: \"100%\"\r\n            },\r\n            height: {\r\n                type: [Number, String],\r\n                default: 500\r\n            },\r\n            autoplay: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            screenshotFormat: {\r\n                type: String,\r\n                default: \"image/jpeg\"\r\n            },\r\n            selectFirstDevice: {\r\n                type: Boolean,\r\n                default: false\r\n            },\r\n            deviceId: {\r\n                type: String,\r\n                default: null\r\n            },\r\n            playsinline: {\r\n                type: Boolean,\r\n                default: true\r\n            },\r\n            resolution: {\r\n                type: Object,\r\n                default: null,\r\n                validator: value => {\r\n                    return value.height && value.width;\r\n                }\r\n            }\r\n        },\r\n        data() {\r\n            return {\r\n                source: null,\r\n                canvas: null,\r\n                camerasListEmitted: false,\r\n                cameras: []\r\n            };\r\n        },\r\n        watch: {\r\n            deviceId: function(id) {\r\n                this.changeCamera(id);\r\n            }\r\n        },\r\n        mounted() {\r\n            this.setupMedia();\r\n        },\r\n        beforeDestroy() {\r\n            this.stop();\r\n        },\r\n        methods: {\r\n            /**\r\n             * get user media\r\n             */\r\n            legacyGetUserMediaSupport() {\r\n                return constraints => {\r\n                    // First get ahold of the legacy getUserMedia, if present\r\n                    let getUserMedia =\r\n                        navigator.getUserMedia ||\r\n                        navigator.webkitGetUserMedia ||\r\n                        navigator.mozGetUserMedia ||\r\n                        navigator.msGetUserMedia ||\r\n                        navigator.oGetUserMedia;\r\n                    // Some browsers just don't implement it - return a rejected promise with an error\r\n                    // to keep a consistent interface\r\n                    if (!getUserMedia) {\r\n                        return Promise.reject(\r\n                            new Error(\"getUserMedia is not implemented in this browser\")\r\n                        );\r\n                    }\r\n                    // Otherwise, wrap the call to the old navigator.getUserMedia with a Promise\r\n                    return new Promise(function(resolve, reject) {\r\n                        getUserMedia.call(navigator, constraints, resolve, reject);\r\n                    });\r\n                };\r\n            },\r\n            /**\r\n             * setup media\r\n             */\r\n            setupMedia() {\r\n                if (navigator.mediaDevices === undefined) {\r\n                    navigator.mediaDevices = {};\r\n                }\r\n                if (navigator.mediaDevices.getUserMedia === undefined) {\r\n                    navigator.mediaDevices.getUserMedia = this.legacyGetUserMediaSupport();\r\n                }\r\n                this.testMediaAccess();\r\n            },\r\n            /**\r\n             * load available cameras\r\n             */\r\n            loadCameras() {\r\n                navigator.mediaDevices\r\n                    .enumerateDevices()\r\n                    .then(deviceInfos => {\r\n                        for (let i = 0; i !== deviceInfos.length; ++i) {\r\n                            let deviceInfo = deviceInfos[i];\r\n                            if (deviceInfo.kind === \"videoinput\") {\r\n                                this.cameras.push(deviceInfo);\r\n                            }\r\n                        }\r\n                    })\r\n                    .then(() => {\r\n                        if (!this.camerasListEmitted) {\r\n                            if (this.selectFirstDevice && this.cameras.length > 0) {\r\n                                this.deviceId = this.cameras[0].deviceId;\r\n                            }\r\n                            this.$emit(\"cameras\", this.cameras);\r\n                            this.camerasListEmitted = true;\r\n                        }\r\n                    })\r\n                    .catch(error => this.$emit(\"notsupported\", error));\r\n            },\r\n            /**\r\n             * change to a different camera stream, like front and back camera on phones\r\n             */\r\n            changeCamera(deviceId) {\r\n                this.stop();\r\n                this.$emit(\"camera-change\", deviceId);\r\n                this.loadCamera(deviceId);\r\n            },\r\n            /**\r\n             * load the stream to the\r\n             */\r\n            loadSrcStream(stream) {\r\n                if (\"srcObject\" in this.$refs.video) {\r\n                    // new browsers api\r\n                    this.$refs.video.srcObject = stream;\r\n                } else {\r\n                    // old broswers\r\n                    this.source = window.HTMLMediaElement.srcObject(stream);\r\n                }\r\n                // Emit video start/live event\r\n                this.$refs.video.onloadedmetadata = () => {\r\n                    this.$emit(\"video-live\", stream);\r\n                };\r\n                this.$emit(\"started\", stream);\r\n            },\r\n            /**\r\n             * stop the selected streamed video to change camera\r\n             */\r\n            stopStreamedVideo(videoElem) {\r\n                let stream = videoElem.srcObject;\r\n                let tracks = stream.getTracks();\r\n                tracks.forEach(track => {\r\n                    // stops the video track\r\n                    track.stop();\r\n                    this.$emit(\"stopped\", stream);\r\n                    this.$refs.video.srcObject = null;\r\n                    this.source = null;\r\n                });\r\n            },\r\n            // stop the video\r\n            stop() {\r\n                if (this.$refs.video !== null && this.$refs.video.srcObject) {\r\n                    this.stopStreamedVideo(this.$refs.video);\r\n                }\r\n            },\r\n            // start the video\r\n            start() {\r\n                if (this.deviceId) {\r\n                    this.loadCamera(this.deviceId);\r\n                }\r\n            },\r\n            // pause the video\r\n            pause() {\r\n                if (this.$refs.video !== null && this.$refs.video.srcObject) {\r\n                    this.$refs.video.pause();\r\n                }\r\n            },\r\n            // resume the video\r\n            resume() {\r\n                if (this.$refs.video !== null && this.$refs.video.srcObject) {\r\n                    this.$refs.video.play();\r\n                }\r\n            },\r\n            /**\r\n             * test access\r\n             */\r\n            testMediaAccess() {\r\n                let constraints = { video: true };\r\n                if (this.resolution) {\r\n                    constraints.video = {};\r\n                    constraints.video.height = this.resolution.height;\r\n                    constraints.video.width = this.resolution.width;\r\n                }\r\n                navigator.mediaDevices\r\n                    .getUserMedia(constraints)\r\n                    .then(stream => {\r\n                        //Make sure to stop this MediaStream\r\n                        let tracks = stream.getTracks();\r\n                        tracks.forEach(track => {\r\n                            track.stop();\r\n                        });\r\n                        this.loadCameras();\r\n                    })\r\n                    .catch(error => this.$emit(\"error\", error));\r\n            },\r\n            /**\r\n             * load the camera passed as index!\r\n             */\r\n            loadCamera(device) {\r\n                let constraints = { video: { deviceId: { exact: device } } };\r\n                if (this.resolution) {\r\n                    constraints.video.height = this.resolution.height;\r\n                    constraints.video.width = this.resolution.width;\r\n                }\r\n                navigator.mediaDevices\r\n                    .getUserMedia(constraints)\r\n                    .then(stream => this.loadSrcStream(stream))\r\n                    .catch(error => this.$emit(\"error\", error));\r\n            },\r\n            /**\r\n             * capture screenshot\r\n             */\r\n            capture() {\r\n                return this.getCanvas().toDataURL(this.screenshotFormat);\r\n            },\r\n            /**\r\n             * get canvas\r\n             */\r\n            getCanvas() {\r\n                let video = this.$refs.video;\r\n                if (!this.ctx) {\r\n                    let canvas = document.createElement(\"canvas\");\r\n                    canvas.height = video.videoHeight;\r\n                    canvas.width = video.videoWidth;\r\n                    this.canvas = canvas;\r\n                    this.ctx = canvas.getContext(\"2d\");\r\n                }\r\n                const { ctx, canvas } = this;\r\n                ctx.drawImage(video, 0, 0, canvas.width, canvas.height);\r\n                return canvas;\r\n            }\r\n        }\r\n    };\r\n</script>"],"sourceRoot":"src/components"}]}