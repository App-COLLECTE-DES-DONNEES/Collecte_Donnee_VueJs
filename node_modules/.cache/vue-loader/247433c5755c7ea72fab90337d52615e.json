{"remainingRequest":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macbookpro/IdeaProjects/collectedonnee/src/views/app/components/formproducts.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/src/views/app/components/formproducts.vue","mtime":1627985796000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBJbWFnZVByZXZpZXcgZnJvbSAiLi4vY29tcG9uZW50cy9JbWFnZVByZXZpZXciCmltcG9ydCB7IG1hcEdldHRlcnMsbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyByZXF1aXJlZCwgbWluTGVuZ3RoIH0gZnJvbSAidnVlbGlkYXRlL2xpYi92YWxpZGF0b3JzIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAgIG5hbWU6InJlZ2lzdGVyUGFydG5lcnMiLAogICAgcHJvcHM6ewogICAgICAgIGlkOlN0cmluZywKICAgICAgICB0aXRsZTpTdHJpbmcsCiAgICAgICAgdHlwZTpTdHJpbmcsCiAgICAgICAgc3RhdHV0OkJvb2xlYW4sCiAgICB9LAogICAgY29tcG9uZW50czp7SW1hZ2VQcmV2aWV3fSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgaW1nOiBudWxsLAogICAgICAgICAgICBjYXRwcm9kdWN0Ont9LAogICAgICAgICAgICBzdWJtaXRTdGF0dXM6IG51bGwsCiAgICAgICAgICAgIG5vbTogJycsCiAgICAgICAgICAgIGRhdGU6MSwKICAgICAgICAgICAgcHJpeDogMCwKICAgICAgICAgICAgY29udGVudDonJywKICAgICAgICAgICAgc3RhdHVzOiBmYWxzZSwKICAgICAgICAgICAgc2hvdzogZmFsc2UsCiAgICAgICAgICAgIGNhdHM6W10KICAgICAgICB9CiAgICB9LAogICAgdmFsaWRhdGlvbnM6IHsKICAgICAgICBub206IHsKICAgICAgICAgICAgcmVxdWlyZWQsCiAgICAgICAgICAgIG1pbkxlbmd0aDogbWluTGVuZ3RoKDQpCiAgICAgICAgfSwKICAgICAgICBwcml4OiB7CiAgICAgICAgICAgIHJlcXVpcmVkCiAgICAgICAgfSwKICAgIH0sCiAgICBtb3VudGVkKCl7CiAgICAgICAgdGhpcy5GZXRjaENhdFByb2R1Y3RzKCkKICAgIH0sCiAgICBjb21wdXRlZDogewogICAgICAgIC4uLm1hcEdldHRlcnMoWyJnZXRDYXRQcm9kdWN0cyJdKSwKICAgIH0sCiAgICB3YXRjaDp7CiAgICAgICAgZ2V0Q2F0UHJvZHVjdHM6IGZ1bmN0aW9uKHZhbHVlKXsKICAgICAgICAgICAgdGhpcy5jYXRzID0gdmFsdWUKICAgICAgICAgICAgY29uc29sZS5sb2coJ2ZpbGVzMicsdmFsdWUpOwogICAgICAgIH0sCiAgICB9LAoKICAgIG1ldGhvZHM6ewogICAgICAgIC4uLm1hcEFjdGlvbnMoWyJGZXRjaENhdFByb2R1Y3RzIl0pLAogICAgICAgLyogc2VsZWN0ZWRGaWxlKGV2ZW50KSB7CgogICAgICAgICAgICBjb25zb2xlLmxvZygnZmlsZXMyJyxldmVudCk7CiAgICAgICAgICAgIHRoaXMuaW1nID0gZXZlbnQudGFyZ2V0LmZpbGVzWzBdCiAgICAgICAgfSwqLwogICAgICAgIHJlZ2lzdGVycCgpewogICAgICAgICAgICB0aGlzLnNob3cgPSAhdGhpcy5zaG93CgogICAgICAgICAgICAgICAgdGhpcy5jYXRwcm9kdWN0PXt9CiAgICAgICAgICAgICAgICB0aGlzLm5vbT0nJwogICAgICAgICAgICAgICAgdGhpcy5wcml4PTAKICAgICAgICAgICAgICAgIHRoaXMuY29udGVudD0nJwogICAgICAgICAgICAgICAgdGhpcy5kYXRlID0gMAoKICAgICAgICB9LAogICAgICAgIGlucHV0KGRhdGEpewoKICAgICAgICAgICAgdGhpcy5pbWcgPSBkYXRhCiAgICAgICAgfSwKICAgICAgICByZWdpc3RlclByb2R1Y3RzOiBmdW5jdGlvbigpewoKICAgICAgICAgICAgaWYodGhpcy5pbWcgPT0gbnVsbCl7CiAgICAgICAgICAgICAgICAvL3RoaXMubWFrZVRvYXN0KCdlcnJvcicsJycpCiAgICAgICAgICAgIH0KCgogICAgICAgICAgICB0aGlzLnNob3cgPSAhdGhpcy5zaG93CiAgICAgICAgICAgIHRoaXMuJHYuJHRvdWNoKCk7CgogICAgICAgICAgICBpZiAodGhpcy4kdi4kaW52YWxpZCkgewoKICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0U3RhdHVzID0gIkVSUk9SIjsKICAgICAgICAgICAgICAgIHRoaXMuc2hvdyA9ICF0aGlzLnNob3cKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIGRvIHlvdXIgc3VibWl0IGxvZ2ljIGhlcmUKICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0U3RhdHVzID0gIlBFTkRJTkciOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICAgICAgICAgICAgLypsZXQgdGVzdD17fQogICAgICAgICAgICAgICAgICAgIHRlc3QgPSB7IHZhcmlhbnQ6aXRlbSwgY2F0ZWdvcmllUHJvZHVpdElkOnRoaXMuY2F0ZWdvcmllLGxpYmVsbGU6IHRoaXMubm9tLAogICAgICAgICAgICAgICAgICAgICAgICBwcml4OnRoaXMucHJpeCxkZXNjcmlwdGlvbjp0aGlzLmNvbnRlbnQsCiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGU6bmV3IERhdGUoKS50b0xvY2FsZURhdGVTdHJpbmcoKSB9Ki8KCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJtaXRTdGF0dXMgPSAiT0siOwoKICAgICAgICAgICAgICAgICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEodGhpcy4kcmVmcy5yZWdwcm9kdWN0cyk7CgogICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIHRoaXMuaW1nKTsKICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ2Rlc2NyaXB0aW9uJywgdGhpcy5jb250ZW50KTsKICAgICAgICAgICAgICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3ZhcmlhbnQnLCAncHJvZHVpdHMnKTsKCiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgicmVnaXN0ZXJwcm9kdWN0cyIsZm9ybURhdGEpOwoKICAgICAgICAgICAgICAgICAgIC8qIGZvcih2YXIgcGFpciBvZiBmb3JtRGF0YS5lbnRyaWVzKCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocGFpclswXSsgJywgJysgcGFpclsxXSk7CiAgICAgICAgICAgICAgICAgICAgfSovCgogICAgICAgICAgICAgICAgfSwgMTAwMCk7CiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKICAgICAgICAvLyB0eXBlCiAgICAgICAgLy8gbWVzc2FnZQogICAgICAgIC8vCiAgICAgICAgbWFrZVRvYXN0KHZhcmlhbnQgPSBudWxsLHR5cGUpIHsKCiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgICAgICAgY2FzZSAwOiB0eXBlPSJlcnJvciI7IGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAxOiB0eXBlPSJzdWNjZXNzIiA7IGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAyOiB0eXBlPSJpbmZvIjsgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDM6IHR5cGU9Indhcm5pbmciOyBicmVhazsKCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuJHRvYXN0ZWQuc2hvdyh0aGlzLiR0KHZhcmlhbnQpLHt0eXBlOnR5cGV9KQoKCiAgICAgICAgfSwKCiAgICAgICAgbWFrZVRvYXN0VHdvKHZhcmlhbnQgPSBudWxsKSB7CgogICAgICAgICAgICBjb25zb2xlLmxvZygnU3VjY2Vzc2Z1bGx5IFN1Ym1pdHRlZCcpCgogICAgICAgICAgICB0aGlzLiRidlRvYXN0LnRvYXN0KCJTdWNjZXNzZnVsbHkgU3VibWl0dGVkIiwgewogICAgICAgICAgICAgICAgdGl0bGU6IGBWYXJpYW50ICR7dmFyaWFudCB8fCAiZGVmYXVsdCJ9YCwKICAgICAgICAgICAgICAgIHZhcmlhbnQ6IHZhcmlhbnQsCiAgICAgICAgICAgICAgICBzb2xpZDogdHJ1ZQogICAgICAgICAgICB9KTsKCiAgICAgICAgfSwKCiAgICB9Cn0K"},{"version":3,"sources":["formproducts.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwJA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA","file":"formproducts.vue","sourceRoot":"src/views/app/components","sourcesContent":["<template>\r\n\r\n\r\n    <b-modal :id=\"id\" :title=\"title\" :show=\"statut\" size=\"xl\" hide-footer>\r\n        <!--<b-card\r\n                title=\"Card with overlay\"\r\n                :aria-hidden=\"show ? 'true' : null\"\r\n        >-->\r\n        <template #modal-header=\"{  }\">\r\n            <!-- Emulate built in modal header close button action -->\r\n            <h5>{{title}}</h5>\r\n        </template>\r\n\r\n        <template #default=\"{ hide }\">\r\n            <b-overlay :show=\"show\" rounded=\"sm\">\r\n                <b-form :aria-hidden=\"show ? 'true' : null\" ref=\"regproducts\" @submit.prevent=\"registerProducts(type)\">\r\n\r\n                    <b-form-group\r\n                            class=\"col-md-12 mb-30\"\r\n                            :label=\"$t('img')\"\r\n                            label-for=\"input-1\"\r\n                    >\r\n                        <!--<vue-img-preview @change=\"selectedFile(event)\"></vue-img-preview>-->\r\n                        <ImagePreview @input=\"input\"></ImagePreview>\r\n\r\n                    </b-form-group>\r\n\r\n                    <b-form-group\r\n                            class=\"col-md-12 mb-30\"\r\n                            :label=\"$t('cat_products')\"\r\n                            label-for=\"input-1\"\r\n                    >\r\n\r\n                        <!--<b-form-select\r\n                                id=\"proprietaire\"\r\n                                name=\"proprietaireId\"\r\n                                v-model=\"proprietaireId\"\r\n                                :placeholder=\"$t('proprietaire')\"\r\n                        ></b-form-select>-->\r\n                        <b-form-select\r\n                                id=\"input-3\"\r\n                                name=\"categorieProduitId\"\r\n                                v-model=\"catproduct\"\r\n                                required\r\n                        >\r\n\r\n                            <b-form-select-option  v-for=\"item in cats\" :value=\"item.categorieProduitId\"\r\n                                                   :key=\"item.categorieProduitId\">\r\n\r\n                                {{item.libelle}}</b-form-select-option>\r\n                        </b-form-select>\r\n\r\n\r\n                    </b-form-group>\r\n\r\n                    <b-form-group\r\n                            class=\"col-md-10 mb-30\"\r\n                            :label=\"$t('nom_label')\"\r\n                            label-for=\"input-1\"\r\n                    >\r\n\r\n                        <b-form-input\r\n\r\n                                v-model.trim=\"$v.nom.$model\"\r\n                                type=\"text\"\r\n                                name=\"libelle\"\r\n                                :placeholder=\"$t('prooftag')\"\r\n                        ></b-form-input>\r\n\r\n                        <b-alert\r\n                                show\r\n                                variant=\"danger\"\r\n                                class=\"error col-md-12 mt-1\"\r\n                                v-if=\"!$v.nom.minLength\"\r\n                        >{{$t('validator_nom')}}\r\n                            {{ $v.nom.$params.minLength.min }} {{$t('letters')}}  .</b-alert\r\n                        >\r\n\r\n\r\n                    </b-form-group>\r\n\r\n                    <b-form-group\r\n                            class=\"col-md-12 mb-30\"\r\n                            :label=\"$t('prix')\"\r\n                            label-for=\"input-1\"\r\n                    >\r\n\r\n                        <b-form-input\r\n                                v-model=\"prix\"\r\n                                required\r\n                                type=\"number\"\r\n                                name=\"prix\"\r\n                                :placeholder=\"$t('prix')\"\r\n                        ></b-form-input>\r\n\r\n\r\n                    </b-form-group>\r\n\r\n\r\n                    <b-form-group\r\n                            class=\"col-md-12 mb-30\"\r\n                            :label=\"$t('desc_inf')\"\r\n                            label-for=\"input-1\"\r\n                    >\r\n                        <b-row>\r\n                            <wysiwyg v-model=\"content\"  />\r\n                        </b-row>\r\n\r\n                    </b-form-group>\r\n\r\n\r\n                    <b-form-group\r\n                            class=\"col-md-12 mb-30\"\r\n                            :label=\"$t('validity_date')\"\r\n                            label-for=\"input-1\"\r\n                    >\r\n                        <b-form-input\r\n                                v-model=\"date\"\r\n                                required\r\n                                type=\"number\"\r\n                                name=\"delaiValidite\"\r\n                                :placeholder=\"$t('validity_date')\"\r\n                        ></b-form-input>\r\n\r\n\r\n                    </b-form-group>\r\n                    <p></p>\r\n\r\n                    <div style=\"text-align: right\">\r\n                        <b-button  @click=\"hide()\" variant=\"outline-danger\" style=\"margin-right: 15px\">{{$t('Annuler')}}</b-button>\r\n                        <b-button type=\"submit\" variant=\"outline-success rights\" style=\"position: relative;right: 0;margin-right: 10px;\">{{$t('Enregistrer')}}</b-button>\r\n                    </div>\r\n\r\n                    <p v-once class=\"typo__p\" v-if=\"submitStatus === 'OK'\">\r\n                        <!--{{ makeToast(\"success\",\"success\") }}-->\r\n                    </p>\r\n                    <p v-once class=\"typo__p\" v-if=\"submitStatus === 'ERROR'\">\r\n                        {{ makeToast(\"Erreur\",\"error\") }}\r\n                    </p>\r\n                    <div v-once class=\"typo__p\" v-if=\"submitStatus === 'PENDING'\">\r\n                        <div class=\"spinner sm spinner-primary mt-3\"></div>\r\n                    </div>\r\n\r\n                </b-form>\r\n            </b-overlay>\r\n        </template>\r\n\r\n    </b-modal>\r\n\r\n</template>\r\n\r\n<script>\r\n    import ImagePreview from \"../components/ImagePreview\"\r\n    import { mapGetters,mapActions } from \"vuex\";\r\n    import { required, minLength } from \"vuelidate/lib/validators\";\r\n\r\n    export default {\r\n        name:\"registerPartners\",\r\n        props:{\r\n            id:String,\r\n            title:String,\r\n            type:String,\r\n            statut:Boolean,\r\n        },\r\n        components:{ImagePreview},\r\n        data() {\r\n            return {\r\n                img: null,\r\n                catproduct:{},\r\n                submitStatus: null,\r\n                nom: '',\r\n                date:1,\r\n                prix: 0,\r\n                content:'',\r\n                status: false,\r\n                show: false,\r\n                cats:[]\r\n            }\r\n        },\r\n        validations: {\r\n            nom: {\r\n                required,\r\n                minLength: minLength(4)\r\n            },\r\n            prix: {\r\n                required\r\n            },\r\n        },\r\n        mounted(){\r\n            this.FetchCatProducts()\r\n        },\r\n        computed: {\r\n            ...mapGetters([\"getCatProducts\"]),\r\n        },\r\n        watch:{\r\n            getCatProducts: function(value){\r\n                this.cats = value\r\n                console.log('files2',value);\r\n            },\r\n        },\r\n\r\n        methods:{\r\n            ...mapActions([\"FetchCatProducts\"]),\r\n           /* selectedFile(event) {\r\n\r\n                console.log('files2',event);\r\n                this.img = event.target.files[0]\r\n            },*/\r\n            registerp(){\r\n                this.show = !this.show\r\n\r\n                    this.catproduct={}\r\n                    this.nom=''\r\n                    this.prix=0\r\n                    this.content=''\r\n                    this.date = 0\r\n\r\n            },\r\n            input(data){\r\n\r\n                this.img = data\r\n            },\r\n            registerProducts: function(){\r\n\r\n                if(this.img == null){\r\n                    //this.makeToast('error','')\r\n                }\r\n\r\n\r\n                this.show = !this.show\r\n                this.$v.$touch();\r\n\r\n                if (this.$v.$invalid) {\r\n\r\n                    this.submitStatus = \"ERROR\";\r\n                    this.show = !this.show\r\n                } else {\r\n                    // do your submit logic here\r\n                    this.submitStatus = \"PENDING\";\r\n                    setTimeout(() => {\r\n                        /*let test={}\r\n                        test = { variant:item, categorieProduitId:this.categorie,libelle: this.nom,\r\n                            prix:this.prix,description:this.content,\r\n                            date:new Date().toLocaleDateString() }*/\r\n\r\n                        this.submitStatus = \"OK\";\r\n\r\n                        let formData = new FormData(this.$refs.regproducts);\r\n\r\n                        formData.append('file', this.img);\r\n                        formData.append('description', this.content);\r\n                        formData.append('variant', 'produits');\r\n\r\n                        this.$emit(\"registerproducts\",formData);\r\n\r\n                       /* for(var pair of formData.entries()) {\r\n                            console.log(pair[0]+ ', '+ pair[1]);\r\n                        }*/\r\n\r\n                    }, 1000);\r\n                }\r\n\r\n            },\r\n            // type\r\n            // message\r\n            //\r\n            makeToast(variant = null,type) {\r\n\r\n                switch (type) {\r\n                    case 0: type=\"error\"; break;\r\n                    case 1: type=\"success\" ; break;\r\n                    case 2: type=\"info\"; break;\r\n                    case 3: type=\"warning\"; break;\r\n\r\n                }\r\n\r\n                this.$toasted.show(this.$t(variant),{type:type})\r\n\r\n\r\n            },\r\n\r\n            makeToastTwo(variant = null) {\r\n\r\n                console.log('Successfully Submitted')\r\n\r\n                this.$bvToast.toast(\"Successfully Submitted\", {\r\n                    title: `Variant ${variant || \"default\"}`,\r\n                    variant: variant,\r\n                    solid: true\r\n                });\r\n\r\n            },\r\n\r\n        }\r\n    }\r\n</script>\r\n<style scoped>\r\n  /*  .vue-img-preview-container{\r\n        height:200px\r\n    }*/\r\n    </style>"]}]}