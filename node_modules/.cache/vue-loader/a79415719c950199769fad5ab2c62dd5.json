{"remainingRequest":"C:\\wamp64\\www\\toolsmctc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\wamp64\\www\\toolsmctc\\src\\views\\app\\visit\\form_start_inspection.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\wamp64\\www\\toolsmctc\\src\\views\\app\\visit\\form_start_inspection.vue","mtime":1628681760955},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IG1hcEdldHRlcnMsbWFwQWN0aW9ucyB9IGZyb20gInZ1ZXgiOwppbXBvcnQgeyByZXF1aXJlZCB9IGZyb20gInZ1ZWxpZGF0ZS9saWIvdmFsaWRhdG9ycyI7CmltcG9ydCBjb25zdGFudHMgZnJvbSAnLi4vLi4vLi4vcGx1Z2lucy9jb25zdGFudHMnCgpleHBvcnQgZGVmYXVsdCB7CiAgICBtZXRhSW5mbzogewogICAgICAgIC8vIGlmIG5vIHN1YmNvbXBvbmVudHMgc3BlY2lmeSBhIG1ldGFJbmZvLnRpdGxlLCB0aGlzIHRpdGxlIHdpbGwgYmUgdXNlZAogICAgICAgIHRpdGxlOiAiRm9ybSBTdGFydCIKICAgIH0sCgogICAgcHJvcHM6ewogICAgICAgIHJvd2VzOk9iamVjdAogICAgfSwKCiAgICBkYXRhKCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICAgIHJlczpjb25zdGFudHMucmVzb3VyY2VfdXJscywKCiAgICAgICAgICAgIGxpZ25lSWQ6MCwKICAgICAgICAgICAgY2hhc3NpczowLAogICAgICAgICAgICBlc3NpZXU6MCwKICAgICAgICAgICAgbnVtSW1tYXRyaWN1bGF0aW9uOiIiLAogICAgICAgICAgICBjYXRzOltdLAogICAgICAgICAgICBjYXQ6IiIsCiAgICAgICAgICAgIGRhdGU6bmV3IERhdGUoKSwKICAgICAgICAgICAgc3VibWl0U3RhdHVzOiBudWxsLAogICAgICAgICAgICBzaG93OiBmYWxzZSwKICAgICAgICAgICAgdmlzaXRlczpbXSwKICAgICAgICAgICAgdmlzaXRlOnt9LAogICAgICAgICAgICBzZWxlY3RlZDogMCwKICAgICAgICAgICAga2lsb21ldHJhZ2U6MCwKICAgICAgICAgICAgbGluZXM6WwogICAgICAgICAgICBdLAogICAgICAgICAgICBlc3NpZXV4OlsKCiAgICAgICAgICAgICAgICB7dmFsdWU6Mix0ZXh0OiIyIn0sCiAgICAgICAgICAgICAgICB7dmFsdWU6Myx0ZXh0OiIzIn0sCiAgICAgICAgICAgICAgICB7dmFsdWU6NCx0ZXh0OiI0In0sCiAgICAgICAgICAgICAgICB7dmFsdWU6NSx0ZXh0OiI1In0sCiAgICAgICAgICAgIF0KICAgICAgICB9OwogICAgfSwKICAgIGNvbXB1dGVkOiB7CiAgICAgICAgLi4ubWFwR2V0dGVycyhbImdldFZpc2l0ZVdhaXRpbmciLCJHZXRTdGF0dXNQb3N0IiwiZ2V0TGluZXMiXSksCiAgICB9LAogICAgdmFsaWRhdGlvbnM6IHsKICAgICAgICBsaWduZUlkOiB7CiAgICAgICAgICAgIHJlcXVpcmVkCiAgICAgICAgfQogICAgfSwKICAgIG1ldGhvZHM6IHsKICAgICAgICAuLi5tYXBBY3Rpb25zKFsidmlzaXRlc3RhdHVzIiwic3RhcnRpbnNwZWN0aW9uIiwibGlnbmVzIl0pLAogICAgICAgIGNoZWNrSWQob2JqLCBpZCkgewogICAgICAgICAgICBjb25zb2xlLmxvZygncmV0cmFpdCcsb2JqKQogICAgICAgICAgICAvL3RoaXMudmlzaXRlLmNhcnRlR3Jpc2UucHJvZHVpdC5wcm9kdWl0SWQKICAgICAgICAgICAgcmV0dXJuIG9iai5tYXAoZnVuY3Rpb24oaXRlbSkgeyByZXR1cm4gaXRlbS5jYXJ0ZUdyaXNlLmNhcnRlR3Jpc2VJZDsgfSkuaW5kZXhPZihpZCk7CgogICAgICAgIH0sCiAgICAgICAgY2hhbmdlbGlnbmUodmFsdWUpewoKICAgICAgICAgIGlmKHZhbHVlLmNhdGVnb3JpZVZlaGljdWxlLnR5cGU9PT0iUEwiKXsKICAgICAgICAgICAgdGhpcy5lc3NpZXV4ID0gWwoKICAgICAgICAgICAgICAgIHt2YWx1ZToyLHRleHQ6IjIifSwKICAgICAgICAgICAgICAgIHt2YWx1ZTozLHRleHQ6IjMifSwKICAgICAgICAgICAgICAgIHt2YWx1ZTo0LHRleHQ6IjQifSwKICAgICAgICAgICAgICAgIHt2YWx1ZTo1LHRleHQ6IjUifSwKICAgICAgICAgICAgXQogICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgdGhpcy5lc3NpZXV4ID0gWwoKICAgICAgICAgICAgICAgICAge3ZhbHVlOjIsdGV4dDoiMiJ9LAogICAgICAgICAgICAgIF0KICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIExvYWRpbihpdGVtLGluZGV4KXsKCgogICAgICAgICAgICB0aGlzLmlzU2VsZWN0ZWQoaW5kZXgsaXRlbSx0cnVlKQogICAgICAgICAgICB0aGlzLnVwZGF0ZXZhbHVlc2Zvcm0oaXRlbSkKCiAgICAgICAgICAgIHRoaXMudmlzaXRlID0gaXRlbQogICAgICAgICAgICBjb25zb2xlLmxvZygnaXRlbScsaXRlbSkKCiAgICAgICAgfSwKICAgICAgICBpc1NlbGVjdGVkIChpbmRleCxpLGI9ZmFsc2UpIHsKICAgICAgICAgICAgY29uc29sZS5sb2coJ2l0ZW0nLGIpCiAgICAgICAgICAgIHJldHVybiAnYWN0aXZlJwogICAgICAgICAgICAvKmlmKGIpewogICAgICAgICAgICBpZih0aGlzLnJvd2VzLnJlZmVyZW5jZSA9PT0gaS5jYXJ0ZUdyaXNlLm51bUltbWF0cmljdWxhdGlvbiApewoKICAgICAgICAgICAgICAgIHJldHVybiAnYWN0aXZlJwogICAgICAgICAgICB9fWVsc2V7CiAgICAgICAgICAgICAgICAvISppZihpPT0pCiAgICAgICAgICAgICAgICByZXR1cm4gJ2FjdGl2ZScqIS8KICAgICAgICAgICAgfSovCgogICAgICAgIH0sCgogICAgICAgIHVwZGF0ZXZhbHVlc2Zvcm06ZnVuY3Rpb24oaXRlbSl7CgoKICAgICAgICAgICAgdGhpcy5udW1JbW1hdHJpY3VsYXRpb24gPSBpdGVtLmNhcnRlR3Jpc2UubnVtSW1tYXRyaWN1bGF0aW9uCiAgICAgICAgICAgIHRoaXMuY2F0ID0gaXRlbS5jYXJ0ZUdyaXNlLnByb2R1aXQubGliZWxsZQoKICAgICAgICAgICAgaWYoaXRlbS5jYXJ0ZUdyaXNlLnByb2R1aXQuY2F0ZWdvcmllVmVoaWN1bGUudHlwZT09PSJWTCIpewogICAgICAgICAgICAgICAgdGhpcy5lc3NpZXV4ID0gW3t2YWx1ZToyLHRleHQ6IjIifV0KCiAgICAgICAgICAgIH1lbHNlewoKICAgICAgICAgICAgICAgIHRoaXMuZXNzaWV1eCA9IFt7dmFsdWU6Mix0ZXh0OiIyIn0se3ZhbHVlOjMsdGV4dDoiMyJ9LHt2YWx1ZTo0LHRleHQ6IjQifSx7dmFsdWU6NSx0ZXh0OiI1In1dCgogICAgICAgICAgICB9CiAgICAgICAgfSwKCiAgICAgICAgbWFrZVRvYXN0KHZhcmlhbnQgPSBudWxsLHR5cGUpIHsKCiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgICAgICAgY2FzZSAwOiB0eXBlPSJlcnJvciI7IGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAxOiB0eXBlPSJzdWNjZXNzIiA7IGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAyOiB0eXBlPSJpbmZvIjsgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDM6IHR5cGU9Indhcm5pbmciOyBicmVhazsKCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuJHRvYXN0ZWQuc2hvdyh0aGlzLiR0KHZhcmlhbnQpLHt0eXBlOnR5cGV9KQoKCiAgICAgICAgfSwKICAgICAgICByZWdpc3RlclN0SW5zcGVjdGlvbjpmdW5jdGlvbigpewoKCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGlzLnZpc2l0ZScsdGhpcy52aXNpdGUuY2FydGVHcmlzZS52ZWhpY3VsZSkKICAgICAgICAgICAgaWYodGhpcy52aXNpdGUuY2FydGVHcmlzZS52ZWhpY3VsZS5jaGFzc2lzICE9PSB0aGlzLmNoYXNzaXMpewoKICAgICAgICAgICAgICAgIHRoaXMuJGJ2TW9kYWwuc2hvdygnY29uZmlybXZhbGlkJykKICAgICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgICB0aGlzLnJlZ2lzdGVyU3RJbnNwZWN0aW9ucygpCiAgICAgICAgICAgIH0KICAgICAgICB9LAogICAgICAgIHJlZ2lzdGVyU3RJbnNwZWN0aW9uczpmdW5jdGlvbigpewogICAgICAgICAgICBjb25zb2xlLmxvZygnaGVsbG8nKQogICAgICAgICAgICB0aGlzLnNob3cgPSAhdGhpcy5zaG93CiAgICAgICAgICAgIHRoaXMuJHYuJHRvdWNoKCk7CgogICAgICAgICAgICBpZiAodGhpcy4kdi4kaW52YWxpZCkgewoKICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0U3RhdHVzID0gIkVSUk9SIjsKICAgICAgICAgICAgICAgIHRoaXMuc2hvdyA9ICF0aGlzLnNob3cKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIC8vIGRvIHlvdXIgc3VibWl0IGxvZ2ljIGhlcmUKICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0U3RhdHVzID0gIlBFTkRJTkciOwogICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CgogICAgICAgICAgICAgICAgICAgIC8qbGV0IGluZGV4SWQgPSB0aGlzLmNoZWNrSWQodGhpcy52aXNpdGVzLHRoaXMudmlzaXRlLmNhcnRlR3Jpc2UuY2FydGVHcmlzZUlkKQogICAgICAgICAgICAgICAgICAgIHRoaXMudmlzaXRlcy5zcGxpY2UoaW5kZXhJZCwgMSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy52aXNpdGVzLnNvcnQoKTsqLwoKICAgICAgICAgICAgICAgICAgICBsZXQgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEodGhpcy4kcmVmcy5zdF9pbnNwZWN0aW9uKTsKCiAgICAgICAgICAgICAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdudW1JbW1hdHJpY3VsYXRpb24nLHRoaXMubnVtSW1tYXRyaWN1bGF0aW9uKQogICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgndmlzaXRlSWQnLHRoaXMudmlzaXRlLmlkVmlzaXRlKQogICAgICAgICAgICAgICAgICAgIC8vZm9ybURhdGEuYXBwZW5kKCdjb250cm9sZXVySWQnLHRoaXMuJHN0b3JlLnN0YXRlLmNhaXNzZXMuY2xpZW50LmlkKQogICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLmFwcGVuZCgicG9zaXRpb24iLCIxLCIpCgogICAgICAgICAgICAgICAgICAgIGZvcm1EYXRhLnNldCgncHJvZHVpdElkJyx0aGlzLnZpc2l0ZS5jYXJ0ZUdyaXNlLnByb2R1aXQucHJvZHVpdElkKQoKICAgICAgICAgICAgICAgICAgICB0aGlzLmNhdGVnb3JpZSA9IHRoaXMuY2F0LmxpYmVsbGUKCiAgICAgICAgICAgICAgICAgICAgY29uc3QgZGF0YSA9IHt9OyAvLyBuZWVkIHRvIGNvbnZlcnQgaXQKICAgICAgICAgICAgICAgICAgICBmb3IgKGxldCBba2V5LCB2YWxdIG9mIGZvcm1EYXRhLmVudHJpZXMoKSkgewogICAgICAgICAgICAgICAgICAgICAgICBPYmplY3QuYXNzaWduKGRhdGEsIHsgW2tleV06IHZhbCB9KQogICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3N0YXJ0aW5zcCcsZGF0YSkKCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJtaXRTdGF0dXMgPSAiT0siOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc3RhcnRpbnNwZWN0aW9uKGRhdGEpCiAgICAgICAgICAgICAgICB9LCAxMDAwKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0sCgogICAgbW91bnRlZCgpewoKICAgICAgICBpZih0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoRGF0YS5yb2xlLmluZGV4T2YoJ2NvbnRyb2xldXInKSl7CgogICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdib3gnfSkKCiAgICAgICAgfQoKICAgICAgICB0aGlzLiRzc2UoY29uc3RhbnRzLnJlc291cmNlX3VybHMrIi9wdWJsaWMvc3Vic2NyaWJlIiwgeyBmb3JtYXQ6ICdqc29uJyB9KS50aGVuKHNzZSA9PiB7CgogICAgICAgICAgICBjb25zb2xlLmxvZygnc3NlJyxzc2UpOwoKICAgICAgICAgICAgc3NlLnN1YnNjcmliZSgnY29udHJvbGV1cl92aXNpdCcsIChtZXNzYWdlKSA9PiB7CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3NzZW1lc3NhZ2UnLG1lc3NhZ2UpOwoKICAgICAgICAgICAgICAgIC8vaWYobWVzc2FnZS5zdGF0dXQuaW5jbHVkZXMoJ0EgaW5zcGVjdGVyJykpewogICAgICAgICAgICAgICAgdmFyIGFycmF5cyA9IFtdOwogICAgICAgICAgICAgICAgYXJyYXlzLnB1c2gobWVzc2FnZSk7CiAgICAgICAgICAgICAgICB0aGlzLnZpc2l0ZXMgPSAoYXJyYXlzKS5jb25jYXQodGhpcy52aXNpdGVzKTsKCiAgICAgICAgICAgICAgICAvL30KCiAgICAgICAgICAgICAgIC8qIGlmKGluZGV4ZSA+IC0xKXsKICAgICAgICAgICAgICAgICAgICAvL3RoaXMubGlzdC4kc2V0KGluZGV4ZSwgKG1lc3NhZ2UuYm9keS5kYXRhKVswXSk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5saXN0LnNwbGljZShpbmRleGUsIDEsIChtZXNzYWdlKSkKICAgICAgICAgICAgICAgICAgICAvL3RoaXMubGlzdC5zcGxpY2UoaW5kZXhlLCAxLCB1cGRhdGVkTGlzdCkKICAgICAgICAgICAgICAgIH0qLwoKCiAgICAgICAgICAgIH0pOwoKICAgICAgICB9KTsKCiAgICAgICAgdGhpcy52aXNpdGVzdGF0dXMoMSkKICAgICAgICB0aGlzLmxpZ25lcygpCgogICAgfSwKCiAgICB3YXRjaDp7CgogICAgICAgIGdldExpbmVzOmZ1bmN0aW9uKHZhbHVlKXsKCiAgICAgICAgICAgIHRoaXMubGluZXMgPSB2YWx1ZQogICAgICAgIH0sCiAgICAgICAgZ2V0VmlzaXRlV2FpdGluZzpmdW5jdGlvbiAodmFsdWVzKSB7CgogICAgICAgICAgICB0aGlzLnZpc2l0ZXMgPSB2YWx1ZXMKICAgICAgICAgICAgY29uc29sZS5sb2coJ3Zpc2l0Jyx0aGlzLnZpc2l0ZXMpCiAgICAgICAgICAgIC8vbGV0IGluZGV4SWQgPSB0aGlzLmNoZWNrSWQodGhpcy52aXNpdGVzLHRoaXMucm93ZXMucmVmZXJlbmNlKQoKICAgICAgICAgICAgdGhpcy52aXNpdGUgPSB0aGlzLnZpc2l0ZXNbMF0KICAgICAgICAgICAgLypjb25zb2xlLmxvZygndmlzaXRlbmF0dGVudGUnLDApCiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd2aXNpdGVuYXR0ZW50ZScsdmFsdWVzKQogICAgICAgICAgICBjb25zb2xlLmxvZygndmlzaXQnLHRoaXMudmlzaXRlKSovCgoKICAgICAgICAgICAgdGhpcy51cGRhdGV2YWx1ZXNmb3JtKHRoaXMudmlzaXRlKQoKCiAgICAgICAgfSwKICAgICAgICBHZXRTdGF0dXNQb3N0OmZ1bmN0aW9uICh2YWx1ZXMpIHsKCiAgICAgICAgICAgIHRoaXMuc2hvdyA9ICF0aGlzLnNob3cKCiAgICAgICAgICAgIGlmKHZhbHVlcyl7CgogICAgICAgICAgICAgICAgdGhpcy5udW1JbW1hdHJpY3VsYXRpb24gPSAiIjsKICAgICAgICAgICAgICAgIHRoaXMuY2F0ZWdvcmllID0gIiI7CgogICAgICAgICAgICAgICAvKiBjb25zb2xlLmxvZygnc25hdHRlbnRlJyx0aGlzLnZpc2l0ZXMpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygneW5hdHRlbnRlJyx0aGlzLnZpc2l0ZSkKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd5bmF0dGVudGUnLHRoaXMudmlzaXRlLmNhcnRlR3Jpc2UpKi8KICAgICAgICAgICAgICAgLy90aGlzLnZpc2l0ZXMucmVkdWNlKHRoaXMudmlzaXRlKQogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Zpc2l0cmVzdScsdGhpcy52aXNpdGUpCiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygndmlzaXRyZXN1Jyx0aGlzLnZpc2l0ZXMpCiAgICAgICAgICAgICAgICB0aGlzLiRidk1vZGFsLmhpZGUoJ2NvbmZpcm12YWxpZCcpCiAgICAgICAgICAgICAgICBsZXQgaW5kZXhJZCA9IHRoaXMuY2hlY2tJZCh0aGlzLnZpc2l0ZXMsdGhpcy52aXNpdGUuY2FydGVHcmlzZS5jYXJ0ZUdyaXNlSWQpCiAgICAgICAgICAgICAgICB0aGlzLnZpc2l0ZXMuc3BsaWNlKGluZGV4SWQsIDEpOwoKICAgICAgICAgICAgICAgIHRoaXMudmlzaXRlcy5zb3J0KCk7CgogICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3luYXR0ZW50ZScsaW5kZXhJZCkKICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd5bmF0dGVudGUnLHRoaXMudmlzaXRlc1swXSkKICAgICAgICAgICAgICAgIC8vdGhpcy51cGRhdGV2YWx1ZXNmb3JtKHRoaXMudmlzaXRlc1swXSkKCiAgICAgICAgICAgICAgICB0aGlzLm1ha2VUb2FzdCh0aGlzLiR0KCdTdWNjZXNzJyksMSkKCiAgICAgICAgICAgICAgICB0aGlzLmVzc2lldT0wCiAgICAgICAgICAgICAgICB0aGlzLmNoYXNzaXM9MAogICAgICAgICAgICAgICAgdGhpcy5raWxvbWV0cmFnZT0wCgogICAgICAgICAgICB9ZWxzZXsKICAgICAgICAgICAgICAgIHRoaXMubWFrZVRvYXN0KHRoaXMuJHQoJ2Vycm9yJyksMCkKICAgICAgICAgICAgfQoKICAgICAgICB9LAoKCiAgICB9Cn07Cg=="},{"version":3,"sources":["form_start_inspection.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAiMA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;AAGA;;;AAGA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;AAGA;AACA","file":"form_start_inspection.vue","sourceRoot":"src/views/app/visit","sourcesContent":["<template>\r\n    <div class=\"main-content\">\r\n\r\n        <breadcumb :page=\"'Start Inspection'\" :folder=\"'Lists'\" />\r\n\r\n        <b-modal id=\"confirmvalid\" scrollable no-close-on-backdrop title=\"Alerte\" hide-footer>\r\n\r\n            <p></p>\r\n            <span class=\"badge badge-danger\"><i class=\"text-20 i-Danger\"></i></span>&nbsp;&nbsp;{{$t('confirmvalidins')}}\r\n            <p></p>\r\n            <div style=\"text-align: right\">\r\n                <b-button type=\"submit\" style=\"margin-right: 10px\" variant=\"outline-success rights\" @click=\"registerStInspections()\" >{{$t('Confirm')}}</b-button>\r\n                <b-button  variant=\"outline-danger\" @click=\"$bvModal.hide('confirmvalid')\" >{{$t('Annuler')}}</b-button>\r\n\r\n            </div>\r\n\r\n     </b-modal>\r\n\r\n            <b-row>\r\n                <b-col md=\"5\">\r\n\r\n                    <b-row class=\"scroll-card\" >\r\n\r\n\r\n                        <b-card  no-body v-for=\"(item,index) in visites\" @click=\"Loadin(item,index)\"\r\n                                 :class=\"[visites.length === 0 ? 'greu' : isSelected(index,item)]\"\r\n                                 :key=\"item.idVisite\"\r\n\r\n                                class=\"bg-dark text-white o-hidden mb-30 taille \">\r\n\r\n                            <img v-if=\"item.carteGrise.produit.img==null\" src=\"../../../assets/images/photo-long-1.jpg\" alt />\r\n                            <img v-else :src=\"res + item.carteGrise.produit.img\" alt />\r\n\r\n\r\n                            <div class=\"card-img-overlay\">\r\n                                <div class=\"text-center pt-4\">\r\n                                    <h5 class=\"card-title mb-2 text-white \" style=\"font-size: 13px\">{{item.carteGrise.numImmatriculation}}</h5>\r\n                                    <div class=\"separator border-top mb-2\"></div>\r\n                                </div>\r\n                            </div>\r\n\r\n                        </b-card>\r\n\r\n                    </b-row>\r\n                        <!--<b-list-group>\r\n\r\n                            <b-list-group-item href=\"#\" v-for=\"(item,index) in visites\" @click=\"Loadin(item,index)\" :class=\"(isSelected(index,item))\"   :key=\"item.idVisite\">\r\n                                {{item.carteGrise.numImmatriculation}}\r\n                            </b-list-group-item>\r\n\r\n                        </b-list-group>-->\r\n\r\n                </b-col>\r\n\r\n                <b-col md=\"7\">\r\n\r\n                    <b-overlay :show=\"show\" rounded=\"sm\">\r\n\r\n                        <b-form :aria-hidden=\"show ? 'true' : null\"  ref=\"st_inspection\" @submit.prevent=\"registerStInspection()\">\r\n\r\n                        <b-card >\r\n                             <b-row>\r\n                    <b-form-group\r\n                            class=\"col-md-6 mb-30\"\r\n                            :label=\"$t('cat')\"\r\n                            label-for=\"input-1\"\r\n                    >\r\n\r\n                            <b-form-input\r\n\r\n                                    v-model=\"cat\"\r\n                                    type=\"text\"\r\n                                    disabled\r\n                                    name=\"produitId\"\r\n                                    :placeholder=\"$t('cat')\"\r\n                            ></b-form-input>\r\n\r\n                    </b-form-group>\r\n                    <b-form-group\r\n                            class=\"col-md-6 mb-30\"\r\n                            :label=\"$t('immatriculation')\"\r\n                            label-for=\"input-1\"\r\n                    >\r\n                        <b-form-input\r\n\r\n                                v-model=\"numImmatriculation\"\r\n                                type=\"text\"\r\n                                name=\"numImmatriculation\"\r\n                                :placeholder=\"$t('immatriculation')\"\r\n                        ></b-form-input>\r\n\r\n                    </b-form-group>\r\n\r\n\r\n                <b-form-group\r\n                        class=\"col-md-6 mb-30\"\r\n                        :label=\"$t('ligne')\"\r\n                        label-for=\"input-1\"\r\n                >\r\n                    <b-form-select\r\n                            id=\"ligneId\"\r\n                            name=\"ligneId\"\r\n                            @change=\"changeligne\"\r\n                            v-model=\"ligneId\"\r\n                            :placeholder=\"$t('ligne')\"\r\n                    >\r\n                        <b-form-select-option v-for=\"item in lines\" :value=\"item.idLigne\"\r\n                                              :key=\"item.description\">\r\n\r\n                            {{item.description}} </b-form-select-option>\r\n\r\n                    </b-form-select>\r\n\r\n                </b-form-group>\r\n                <b-form-group\r\n                        class=\"col-md-6 mb-30\"\r\n                        :label=\"$t('essieu')\"\r\n                        label-for=\"input-1\"\r\n                >\r\n                    <b-form-select\r\n                            id=\"essieu\"\r\n                            name=\"essieux\"\r\n                            v-model=\"essieu\"\r\n                            :placeholder=\"$t('essieu')\"\r\n                            :options=\"essieux\"\r\n                    ></b-form-select>\r\n\r\n                </b-form-group>\r\n\r\n                <b-form-group\r\n                        class=\"col-md-5 mb-30\"\r\n                        :label=\"$t('chassis')\"\r\n                        label-for=\"input-1\"\r\n                >\r\n                    <b-form-input\r\n                            v-model=\"chassis\"\r\n                            type=\"text\"\r\n                            name=\"chassis\"\r\n                            :placeholder=\"$t('chassis')\"\r\n                    ></b-form-input>\r\n\r\n                <!--\r\n                    <br>\r\n                    <img src=\"../../../assets/images/photo-long-2.jpg\" style=\"width:200px;height:100px\" />-->\r\n\r\n                </b-form-group>\r\n\r\n                <b-button class=\"btn btn-outline-success  btn-icon m-1\" style=\"margin-top:25px!important;margin-bottom:20px!important;padding:1px!important;\"\r\n                          variant=\"primary\" v-b-modal.registercustomer\r\n                ><span class=\"ul-btn__icon\"><i class=\"i-Camera\"></i></span>\r\n                </b-button>\r\n\r\n                <b-form-group\r\n                        class=\"col-md-6 mb-30\"\r\n                        :label=\"$t('kilometrage')\"\r\n                        label-for=\"input-1\"\r\n                >\r\n                    <b-form-input\r\n\r\n                            v-model=\"kilometrage\"\r\n                            type=\"number\"\r\n                            name=\"kilometrage\"\r\n                            :placeholder=\"$t('kilometrage')\"\r\n                    ></b-form-input>\r\n\r\n                </b-form-group>\r\n\r\n                        <b-col md=\"12\" style=\"position:relative;text-align: right;margin-top: 2px\">\r\n                            <b-button class=\"mt-3\" type=\"submit\" variant=\"primary\">Submit</b-button>\r\n                        </b-col>\r\n\r\n                             </b-row>\r\n                    </b-card>\r\n                        <p v-once class=\"typo__p\" v-if=\"submitStatus === 'OK'\">\r\n                            <!--{{ makeToast(\"success\",\"success\") }}-->\r\n                        </p>\r\n                        <p v-once class=\"typo__p\" v-if=\"submitStatus === 'ERROR'\">\r\n                            {{ makeToast(\"Erreur\",\"error\") }}\r\n                        </p>\r\n                        <div v-once class=\"typo__p\" v-if=\"submitStatus === 'PENDING'\">\r\n                            <div class=\"spinner sm spinner-primary mt-3\"></div>\r\n                        </div>\r\n\r\n                    </b-form>\r\n\r\n                    </b-overlay>\r\n                </b-col>\r\n            </b-row>\r\n\r\n\r\n    </div>\r\n</template>\r\n<script>\r\n    import { mapGetters,mapActions } from \"vuex\";\r\n    import { required } from \"vuelidate/lib/validators\";\r\n    import constants from '../../../plugins/constants'\r\n\r\n    export default {\r\n        metaInfo: {\r\n            // if no subcomponents specify a metaInfo.title, this title will be used\r\n            title: \"Form Start\"\r\n        },\r\n\r\n        props:{\r\n            rowes:Object\r\n        },\r\n\r\n        data() {\r\n            return {\r\n                res:constants.resource_urls,\r\n\r\n                ligneId:0,\r\n                chassis:0,\r\n                essieu:0,\r\n                numImmatriculation:\"\",\r\n                cats:[],\r\n                cat:\"\",\r\n                date:new Date(),\r\n                submitStatus: null,\r\n                show: false,\r\n                visites:[],\r\n                visite:{},\r\n                selected: 0,\r\n                kilometrage:0,\r\n                lines:[\r\n                ],\r\n                essieux:[\r\n\r\n                    {value:2,text:\"2\"},\r\n                    {value:3,text:\"3\"},\r\n                    {value:4,text:\"4\"},\r\n                    {value:5,text:\"5\"},\r\n                ]\r\n            };\r\n        },\r\n        computed: {\r\n            ...mapGetters([\"getVisiteWaiting\",\"GetStatusPost\",\"getLines\"]),\r\n        },\r\n        validations: {\r\n            ligneId: {\r\n                required\r\n            }\r\n        },\r\n        methods: {\r\n            ...mapActions([\"visitestatus\",\"startinspection\",\"lignes\"]),\r\n            checkId(obj, id) {\r\n                console.log('retrait',obj)\r\n                //this.visite.carteGrise.produit.produitId\r\n                return obj.map(function(item) { return item.carteGrise.carteGriseId; }).indexOf(id);\r\n\r\n            },\r\n            changeligne(value){\r\n\r\n              if(value.categorieVehicule.type===\"PL\"){\r\n                this.essieux = [\r\n\r\n                    {value:2,text:\"2\"},\r\n                    {value:3,text:\"3\"},\r\n                    {value:4,text:\"4\"},\r\n                    {value:5,text:\"5\"},\r\n                ]\r\n              }else{\r\n                  this.essieux = [\r\n\r\n                      {value:2,text:\"2\"},\r\n                  ]\r\n              }\r\n            },\r\n            Loadin(item,index){\r\n\r\n\r\n                this.isSelected(index,item,true)\r\n                this.updatevaluesform(item)\r\n\r\n                this.visite = item\r\n                console.log('item',item)\r\n\r\n            },\r\n            isSelected (index,i,b=false) {\r\n                console.log('item',b)\r\n                return 'active'\r\n                /*if(b){\r\n                if(this.rowes.reference === i.carteGrise.numImmatriculation ){\r\n\r\n                    return 'active'\r\n                }}else{\r\n                    /!*if(i==)\r\n                    return 'active'*!/\r\n                }*/\r\n\r\n            },\r\n\r\n            updatevaluesform:function(item){\r\n\r\n\r\n                this.numImmatriculation = item.carteGrise.numImmatriculation\r\n                this.cat = item.carteGrise.produit.libelle\r\n\r\n                if(item.carteGrise.produit.categorieVehicule.type===\"VL\"){\r\n                    this.essieux = [{value:2,text:\"2\"}]\r\n\r\n                }else{\r\n\r\n                    this.essieux = [{value:2,text:\"2\"},{value:3,text:\"3\"},{value:4,text:\"4\"},{value:5,text:\"5\"}]\r\n\r\n                }\r\n            },\r\n\r\n            makeToast(variant = null,type) {\r\n\r\n                switch (type) {\r\n                    case 0: type=\"error\"; break;\r\n                    case 1: type=\"success\" ; break;\r\n                    case 2: type=\"info\"; break;\r\n                    case 3: type=\"warning\"; break;\r\n\r\n                }\r\n\r\n                this.$toasted.show(this.$t(variant),{type:type})\r\n\r\n\r\n            },\r\n            registerStInspection:function(){\r\n\r\n\r\n                console.log('this.visite',this.visite.carteGrise.vehicule)\r\n                if(this.visite.carteGrise.vehicule.chassis !== this.chassis){\r\n\r\n                    this.$bvModal.show('confirmvalid')\r\n                }else{\r\n                    this.registerStInspections()\r\n                }\r\n            },\r\n            registerStInspections:function(){\r\n                console.log('hello')\r\n                this.show = !this.show\r\n                this.$v.$touch();\r\n\r\n                if (this.$v.$invalid) {\r\n\r\n                    this.submitStatus = \"ERROR\";\r\n                    this.show = !this.show\r\n                } else {\r\n                    // do your submit logic here\r\n                    this.submitStatus = \"PENDING\";\r\n                    setTimeout(() => {\r\n\r\n                        /*let indexId = this.checkId(this.visites,this.visite.carteGrise.carteGriseId)\r\n                        this.visites.splice(indexId, 1);\r\n                        this.visites.sort();*/\r\n\r\n                        let formData = new FormData(this.$refs.st_inspection);\r\n\r\n                        formData.append('numImmatriculation',this.numImmatriculation)\r\n                        formData.append('visiteId',this.visite.idVisite)\r\n                        //formData.append('controleurId',this.$store.state.caisses.client.id)\r\n                        formData.append(\"position\",\"1,\")\r\n\r\n                        formData.set('produitId',this.visite.carteGrise.produit.produitId)\r\n\r\n                        this.categorie = this.cat.libelle\r\n\r\n                        const data = {}; // need to convert it\r\n                        for (let [key, val] of formData.entries()) {\r\n                            Object.assign(data, { [key]: val })\r\n                        }\r\n\r\n                        console.log('startinsp',data)\r\n\r\n                        this.submitStatus = \"OK\";\r\n                        this.startinspection(data)\r\n                    }, 1000);\r\n                }\r\n            }\r\n        },\r\n\r\n        mounted(){\r\n\r\n            if(this.$store.state.authData.role.indexOf('controleur')){\r\n\r\n                this.$router.push({ name: 'box'})\r\n\r\n            }\r\n\r\n            this.$sse(constants.resource_urls+\"/public/subscribe\", { format: 'json' }).then(sse => {\r\n\r\n                console.log('sse',sse);\r\n\r\n                sse.subscribe('controleur_visit', (message) => {\r\n\r\n                    console.log('ssemessage',message);\r\n\r\n                    //if(message.statut.includes('A inspecter')){\r\n                    var arrays = [];\r\n                    arrays.push(message);\r\n                    this.visites = (arrays).concat(this.visites);\r\n\r\n                    //}\r\n\r\n                   /* if(indexe > -1){\r\n                        //this.list.$set(indexe, (message.body.data)[0]);\r\n                        this.list.splice(indexe, 1, (message))\r\n                        //this.list.splice(indexe, 1, updatedList)\r\n                    }*/\r\n\r\n\r\n                });\r\n\r\n            });\r\n\r\n            this.visitestatus(1)\r\n            this.lignes()\r\n\r\n        },\r\n\r\n        watch:{\r\n\r\n            getLines:function(value){\r\n\r\n                this.lines = value\r\n            },\r\n            getVisiteWaiting:function (values) {\r\n\r\n                this.visites = values\r\n                console.log('visit',this.visites)\r\n                //let indexId = this.checkId(this.visites,this.rowes.reference)\r\n\r\n                this.visite = this.visites[0]\r\n                /*console.log('visitenattente',0)\r\n                console.log('visitenattente',values)\r\n                console.log('visit',this.visite)*/\r\n\r\n\r\n                this.updatevaluesform(this.visite)\r\n\r\n\r\n            },\r\n            GetStatusPost:function (values) {\r\n\r\n                this.show = !this.show\r\n\r\n                if(values){\r\n\r\n                    this.numImmatriculation = \"\";\r\n                    this.categorie = \"\";\r\n\r\n                   /* console.log('snattente',this.visites)\r\n                    console.log('ynattente',this.visite)\r\n                    console.log('ynattente',this.visite.carteGrise)*/\r\n                   //this.visites.reduce(this.visite)\r\n                    console.log('visitresu',this.visite)\r\n                    console.log('visitresu',this.visites)\r\n                    this.$bvModal.hide('confirmvalid')\r\n                    let indexId = this.checkId(this.visites,this.visite.carteGrise.carteGriseId)\r\n                    this.visites.splice(indexId, 1);\r\n\r\n                    this.visites.sort();\r\n\r\n                    console.log('ynattente',indexId)\r\n                    console.log('ynattente',this.visites[0])\r\n                    //this.updatevaluesform(this.visites[0])\r\n\r\n                    this.makeToast(this.$t('Success'),1)\r\n\r\n                    this.essieu=0\r\n                    this.chassis=0\r\n                    this.kilometrage=0\r\n\r\n                }else{\r\n                    this.makeToast(this.$t('error'),0)\r\n                }\r\n\r\n            },\r\n\r\n\r\n        }\r\n    };\r\n</script>\r\n\r\n<style scoped>\r\n\r\n    .scroll-card{\r\n        display: flex !important;\r\n        flex-direction: row;\r\n        flex-grow: 1;\r\n        overflow: auto;\r\n    }\r\n\r\n    .taille{\r\n        width:100px;\r\n        height: 100px;\r\n        margin:10px;\r\n        background: #ffffff9e;\r\n    }\r\n    .scroll-card{\r\n        height: 320px;\r\n        display: flex !important;\r\n        flex-direction: row;\r\n        flex-grow: 1;\r\n        overflow: auto;\r\n    }\r\n    img {\r\n        height:100vh;\r\n    }\r\n    greu{\r\n        background-color: grey;\r\n    }\r\n    </style>"]}]}