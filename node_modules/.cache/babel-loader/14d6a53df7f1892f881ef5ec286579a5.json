{"remainingRequest":"C:\\wamp64\\www\\toolsmctc\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\toolsmctc\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\wamp64\\www\\toolsmctc\\src\\store\\modules\\useAutocomplete.js","dependencies":[{"path":"C:\\wamp64\\www\\toolsmctc\\src\\store\\modules\\useAutocomplete.js","mtime":1603110726644},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgX29iamVjdFNwcmVhZCBmcm9tICJDOi93YW1wNjQvd3d3L3Rvb2xzbWN0Yy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vb2JqZWN0U3ByZWFkMiI7CmltcG9ydCB7IHRvUmVmcywgcmVhY3RpdmUgfSBmcm9tICJAdnVlL2NvbXBvc2l0aW9uLWFwaSI7Cgp2YXIgdXNlQXV0b2NvbXBsZXRlID0gZnVuY3Rpb24gdXNlQXV0b2NvbXBsZXRlKG9wdGlvbnMsIGtleSkgewogIHZhciBzdGF0ZSA9IHJlYWN0aXZlKHsKICAgIHVzZXJJbnB1dDogIiIsCiAgICBmaWx0ZXJlZFN1Z2dlc3Rpb25zOiBbXSwKICAgIHN1Z2dlc3Rpb25zOiBvcHRpb25zLAogICAgc2VsZWN0ZWRJdGVtOiB7fQogIH0pOwoKICB2YXIgc2VsZWN0ZWQgPSBmdW5jdGlvbiBzZWxlY3RlZChfaXRlbSkgewogICAgc3RhdGUudXNlcklucHV0ID0gX2l0ZW1ba2V5XTsKICAgIHN0YXRlLmZpbHRlcmVkU3VnZ2VzdGlvbnMgPSBbXTsKICAgIHN0YXRlLnNlbGVjdGVkSXRlbSA9IHsKICAgICAgdXNlcklucHV0OiBzdGF0ZS51c2VySW5wdXQsCiAgICAgIGl0ZW06IF9pdGVtCiAgICB9OwogIH07CgogIHZhciBvbkNoYW5nZSA9IGZ1bmN0aW9uIG9uQ2hhbmdlKF9ldmVudCkgewogICAgY29uc29sZS5sb2coJ2V2ZW50JywgX2V2ZW50KTsKICAgIHZhciBpID0gc3RhdGUudXNlcklucHV0OwogICAgc3RhdGUuc2VsZWN0ZWRJdGVtID0gewogICAgICB1c2VySW5wdXQ6IHN0YXRlLnVzZXJJbnB1dCwKICAgICAgaXRlbTogbnVsbAogICAgfTsKCiAgICBpZiAoaS5sZW5ndGggPT09IDApIHsKICAgICAgc3RhdGUuZmlsdGVyZWRTdWdnZXN0aW9ucyA9IFtdOwogICAgICByZXR1cm47CiAgICB9CgogICAgdmFyIHIgPSBzdGF0ZS5zdWdnZXN0aW9ucy5maWx0ZXIoZnVuY3Rpb24gKHN1Z2dlc3Rpb24pIHsKICAgICAgcmV0dXJuIHN1Z2dlc3Rpb25ba2V5XS50b0xvd2VyQ2FzZSgpLmluZGV4T2YoaS50b0xvd2VyQ2FzZSgpKSA+IC0xOwogICAgfSk7CiAgICBjb25zb2xlLmxvZygncicsIHIpOwogICAgc3RhdGUuZmlsdGVyZWRTdWdnZXN0aW9ucyA9IHI7CiAgfTsKCiAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgdG9SZWZzKHN0YXRlKSksIHt9LCB7CiAgICBzZWxlY3RlZDogc2VsZWN0ZWQsCiAgICBvbkNoYW5nZTogb25DaGFuZ2UKICB9KTsKfTsKCmV4cG9ydCBkZWZhdWx0IHVzZUF1dG9jb21wbGV0ZTs="},{"version":3,"sources":["C:/wamp64/www/toolsmctc/src/store/modules/useAutocomplete.js"],"names":["toRefs","reactive","useAutocomplete","options","key","state","userInput","filteredSuggestions","suggestions","selectedItem","selected","_item","item","onChange","_event","console","log","i","length","r","filter","suggestion","toLowerCase","indexOf"],"mappings":";;;AAAA,SAAQA,MAAR,EAAeC,QAAf,QAA8B,sBAA9B;;AAEA,IAAMC,eAAe,GAAG,SAAlBA,eAAkB,CAACC,OAAD,EAASC,GAAT,EAAiB;AACrC,MAAIC,KAAK,GAAGJ,QAAQ,CAAC;AACjBK,IAAAA,SAAS,EAAE,EADM;AAEjBC,IAAAA,mBAAmB,EAAC,EAFH;AAGjBC,IAAAA,WAAW,EAACL,OAHK;AAIjBM,IAAAA,YAAY,EAAC;AAJI,GAAD,CAApB;;AAOA,MAAIC,QAAQ,GAAG,SAAXA,QAAW,CAAAC,KAAK,EAAI;AACpBN,IAAAA,KAAK,CAACC,SAAN,GAAkBK,KAAK,CAACP,GAAD,CAAvB;AACAC,IAAAA,KAAK,CAACE,mBAAN,GAA4B,EAA5B;AACAF,IAAAA,KAAK,CAACI,YAAN,GAAqB;AAACH,MAAAA,SAAS,EAACD,KAAK,CAACC,SAAjB;AAA2BM,MAAAA,IAAI,EAACD;AAAhC,KAArB;AACH,GAJD;;AAMA,MAAIE,QAAQ,GAAG,SAAXA,QAAW,CAAAC,MAAM,EAAI;AACrBC,IAAAA,OAAO,CAACC,GAAR,CAAY,OAAZ,EAAoBF,MAApB;AAEA,QAAIG,CAAC,GAAGZ,KAAK,CAACC,SAAd;AACAD,IAAAA,KAAK,CAACI,YAAN,GAAoB;AAAEH,MAAAA,SAAS,EAACD,KAAK,CAACC,SAAlB;AAA4BM,MAAAA,IAAI,EAAC;AAAjC,KAApB;;AACA,QAAGK,CAAC,CAACC,MAAF,KAAa,CAAhB,EAAkB;AACdb,MAAAA,KAAK,CAACE,mBAAN,GAA0B,EAA1B;AACA;AACH;;AACD,QAAMY,CAAC,GAAGd,KAAK,CAACG,WAAN,CAAkBY,MAAlB,CACN,UAAAC,UAAU;AAAA,aAAIA,UAAU,CAACjB,GAAD,CAAV,CAAgBkB,WAAhB,GAA8BC,OAA9B,CAAsCN,CAAC,CAACK,WAAF,EAAtC,IAAyD,CAAC,CAA9D;AAAA,KADJ,CAAV;AAGAP,IAAAA,OAAO,CAACC,GAAR,CAAY,GAAZ,EAAgBG,CAAhB;AACAd,IAAAA,KAAK,CAACE,mBAAN,GAA4BY,CAA5B;AACH,GAdD;;AAeA,yCACOnB,MAAM,CAACK,KAAD,CADb;AAEIK,IAAAA,QAAQ,EAARA,QAFJ;AAGIG,IAAAA,QAAQ,EAARA;AAHJ;AAMH,CAnCD;;AAqCA,eAAgBX,eAAhB","sourcesContent":["import {toRefs,reactive} from \"@vue/composition-api\"\r\n\r\nconst useAutocomplete = (options,key) => {\r\n    let state = reactive({\r\n        userInput: \"\",\r\n        filteredSuggestions:[],\r\n        suggestions:options,\r\n        selectedItem:{}\r\n    })\r\n\r\n    let selected = _item => {\r\n        state.userInput = _item[key];\r\n        state.filteredSuggestions = [];\r\n        state.selectedItem = {userInput:state.userInput,item:_item}\r\n    }\r\n\r\n    let onChange = _event => {\r\n        console.log('event',_event);\r\n\r\n        let i = state.userInput;\r\n        state.selectedItem ={ userInput:state.userInput,item:null};\r\n        if(i.length === 0){\r\n            state.filteredSuggestions=[];\r\n            return;\r\n        }\r\n        const r = state.suggestions.filter(\r\n            suggestion => suggestion[key].toLowerCase().indexOf(i.toLowerCase()) > -1\r\n        )\r\n        console.log('r',r)\r\n        state.filteredSuggestions = r\r\n    }\r\n    return {\r\n        ...toRefs(state),\r\n        selected,\r\n        onChange\r\n    }\r\n\r\n}\r\n\r\nexport default  useAutocomplete;"]}]}