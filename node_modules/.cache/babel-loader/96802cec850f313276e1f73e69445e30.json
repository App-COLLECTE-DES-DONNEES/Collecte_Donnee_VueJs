{"remainingRequest":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/babel-loader/lib/index.js!/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/eslint-loader/index.js??ref--13-0!/Users/macbookpro/IdeaProjects/collectedonnee/src/store/modules/authData.js","dependencies":[{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/src/store/modules/authData.js","mtime":1659178749138},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly9pbXBvcnQgZmlyZWJhc2UgZnJvbSAiZmlyZWJhc2UvYXBwIjsKLy9pbXBvcnQgImZpcmViYXNlL2F1dGgiOwppbXBvcnQgVnVlIGZyb20gJ3Z1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBzdGF0ZTogewogICAgbG9nZ2VkSW5Vc2VyOiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlckluZm8iKSAhPSBudWxsID8gSlNPTi5wYXJzZShsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgidXNlckluZm8iKSkgOiBudWxsLAogICAgdXNlcm5hbWU6ICcnLAogICAgcm9sZTogJycsCiAgICBsb2FkaW5nOiBmYWxzZSwKICAgIGVycm9yOiBudWxsLAogICAgY291bnRyeTogIiIKICB9LAogIGdldHRlcnM6IHsKICAgIGxvZ2dlZEluVXNlcjogZnVuY3Rpb24gbG9nZ2VkSW5Vc2VyKHN0YXRlKSB7CiAgICAgIHJldHVybiBzdGF0ZS5sb2dnZWRJblVzZXI7CiAgICB9LAogICAgbG9hZGluZzogZnVuY3Rpb24gbG9hZGluZyhzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUubG9hZGluZzsKICAgIH0sCiAgICBlcnJvcjogZnVuY3Rpb24gZXJyb3Ioc3RhdGUpIHsKICAgICAgcmV0dXJuIHN0YXRlLmVycm9yOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRVc2VyOiBmdW5jdGlvbiBzZXRVc2VyKHN0YXRlLCBkYXRhKSB7CiAgICAgIHN0YXRlLmxvZ2dlZEluVXNlciA9IGRhdGE7CiAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgc3RhdGUuZXJyb3IgPSBudWxsOwogICAgfSwKICAgIHNldExvZ291dDogZnVuY3Rpb24gc2V0TG9nb3V0KHN0YXRlKSB7CiAgICAgIHN0YXRlLmxvZ2dlZEluVXNlciA9IG51bGw7CiAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgc3RhdGUuZXJyb3IgPSBudWxsOyAvL2xvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VySW5mbyIpCiAgICAgIC8vdGhpcy4kcm91dGVyLmdvKCIvIik7CiAgICAgIC8vdGhpcy4kcm91dGVyLnB1c2goIi9hcHAvc2Vzc2lvbnMvc2lnbkluIik7CiAgICB9LAogICAgc2V0TG9hZGluZzogZnVuY3Rpb24gc2V0TG9hZGluZyhzdGF0ZSwgZGF0YSkgewogICAgICBzdGF0ZS5sb2FkaW5nID0gZGF0YTsKICAgICAgc3RhdGUuZXJyb3IgPSBudWxsOwogICAgfSwKICAgIHNldEVycm9yOiBmdW5jdGlvbiBzZXRFcnJvcihzdGF0ZSwgZGF0YSkgewogICAgICBzdGF0ZS5lcnJvciA9IGRhdGE7CiAgICAgIHN0YXRlLmxvZ2dlZEluVXNlciA9IG51bGw7CiAgICAgIHN0YXRlLmxvYWRpbmcgPSBmYWxzZTsKICAgIH0sCiAgICBjbGVhckVycm9yOiBmdW5jdGlvbiBjbGVhckVycm9yKHN0YXRlKSB7CiAgICAgIHN0YXRlLmVycm9yID0gbnVsbDsKICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvZ2luOiBmdW5jdGlvbiBsb2dpbihfcmVmLCBkYXRhKSB7CiAgICAgIHZhciBjb21taXQgPSBfcmVmLmNvbW1pdDsKICAgICAgY29tbWl0KCJjbGVhckVycm9yIik7CiAgICAgIGNvbW1pdCgic2V0TG9hZGluZyIsIHRydWUpOwogICAgICBWdWUucHJvdG90eXBlLiRrZXljbG9hay5sb2dpbkZuKCk7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEubG9naW4pOwogICAgICB2YXIgbmV3VXNlciA9IHsKICAgICAgICB1aWQ6IDEKICAgICAgfTsKICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJJbmZvIiwgSlNPTi5zdHJpbmdpZnkobmV3VXNlcikpOwogICAgICBjb21taXQoInNldFVzZXIiLCB7CiAgICAgICAgdWlkOiAxCiAgICAgIH0pOwogICAgICAvKmZpcmViYXNlCiAgICAgICAgLmF1dGgoKQogICAgICAgIC5zaWduSW5XaXRoRW1haWxBbmRQYXNzd29yZChkYXRhLmVtYWlsLCBkYXRhLnBhc3N3b3JkKQogICAgICAgIC50aGVuKHVzZXIgPT4gewogICAgICAgICAgY29uc3QgbmV3VXNlciA9IHt1aWQ6IHVzZXIudXNlci51aWR9OwogICAgICAgICAgbG9jYWxTdG9yYWdlLnNldEl0ZW0oInVzZXJJbmZvIiwgSlNPTi5zdHJpbmdpZnkobmV3VXNlcikpOwogICAgICAgICAgY29tbWl0KCJzZXRVc2VyIiwge3VpZDogdXNlci51c2VyLnVpZH0pOwogICAgICAgICAgY29uc29sZS5sb2coInVzZXIiKTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaChmdW5jdGlvbihlcnJvcikgewogICAgICAgICAgLy8gSGFuZGxlIEVycm9ycyBoZXJlLgogICAgICAgICAgLy8gdmFyIGVycm9yQ29kZSA9IGVycm9yLmNvZGU7CiAgICAgICAgICAvLyB2YXIgZXJyb3JNZXNzYWdlID0gZXJyb3IubWVzc2FnZTsKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKCJ1c2VySW5mbyIpOwogICAgICAgICAgY29tbWl0KCJzZXRFcnJvciIsIGVycm9yKTsKICAgICAgICAgIC8vIC4uLgogICAgICAgIH0pOyovCiAgICB9LAogICAgc2lnblVzZXJVcDogZnVuY3Rpb24gc2lnblVzZXJVcChfcmVmMiwgZGF0YSkgewogICAgICB2YXIgY29tbWl0ID0gX3JlZjIuY29tbWl0OwogICAgICBjb21taXQoInNldExvYWRpbmciLCB0cnVlKTsKICAgICAgY29tbWl0KCJjbGVhckVycm9yIik7CiAgICAgIGNvbnNvbGUubG9nKGRhdGEuZW1haWwpOwogICAgICAvKmZpcmViYXNlCiAgICAgICAgLmF1dGgoKQogICAgICAgIC5jcmVhdGVVc2VyV2l0aEVtYWlsQW5kUGFzc3dvcmQoZGF0YS5lbWFpbCwgZGF0YS5wYXNzd29yZCkKICAgICAgICAudGhlbih1c2VyID0+IHsKICAgICAgICAgIGNvbW1pdCgic2V0TG9hZGluZyIsIGZhbHNlKTsKICAgICAgICAgICBjb25zdCBuZXdVc2VyID0gewogICAgICAgICAgICB1aWQ6IHVzZXIudXNlci51aWQKICAgICAgICAgIH07CiAgICAgICAgICBjb25zb2xlLmxvZyhuZXdVc2VyKTsKICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ1c2VySW5mbyIsIEpTT04uc3RyaW5naWZ5KG5ld1VzZXIpKTsKICAgICAgICAgIGNvbW1pdCgic2V0VXNlciIsIG5ld1VzZXIpOwogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKGVycm9yID0+IHsKICAgICAgICAgIGNvbW1pdCgic2V0TG9hZGluZyIsIGZhbHNlKTsKICAgICAgICAgIGNvbW1pdCgic2V0RXJyb3IiLCBlcnJvcik7CiAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlckluZm8iKTsKICAgICAgICAgIGNvbnNvbGUubG9nKGVycm9yKTsKICAgICAgICB9KTsqLwogICAgfSwKICAgIHNpZ25PdXQ6IGZ1bmN0aW9uIHNpZ25PdXQoKSB7CiAgICAgIC8vY29tbWl0KCJzZXRMb2dvdXQiKTsKICAgICAgVnVlLnByb3RvdHlwZS4ka2V5Y2xvYWsubG9nb3V0Rm4oKTsKICAgICAgbG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oInVzZXJpbmZvIik7CiAgICAgIC8qZmlyZWJhc2UKICAgICAgICAuYXV0aCgpCiAgICAgICAgLnNpZ25PdXQoKQogICAgICAgIC50aGVuKAogICAgICAgICAgKCkgPT4gewogICAgICAgICAgICBsb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgidXNlckluZm8iKTsKICAgICAgICAgICAgY29tbWl0KCJzZXRMb2dvdXQiKTsKICAgICAgICAgIH0sCiAgICAgICAgICBfZXJyb3IgPT4ge30KICAgICAgICApOwogICAgICAqLwogICAgfQogIH0KfTs="},{"version":3,"sources":["/Users/macbookpro/IdeaProjects/collectedonnee/src/store/modules/authData.js"],"names":["Vue","state","loggedInUser","localStorage","getItem","JSON","parse","username","role","loading","error","country","getters","mutations","setUser","data","setLogout","setLoading","setError","clearError","actions","login","commit","prototype","$keycloak","loginFn","console","log","newUser","uid","setItem","stringify","signUserUp","email","signOut","logoutFn","removeItem"],"mappings":"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","sourcesContent":["//import firebase from \"firebase/app\";\n//import \"firebase/auth\";\nimport Vue from 'vue'\n\nexport default {\n\n  state: {\n    loggedInUser:\n      localStorage.getItem(\"userInfo\") != null\n        ? JSON.parse(localStorage.getItem(\"userInfo\"))\n        : null,\n      username:'',\n      role:'',\n    loading: false,\n    error: null,\n      country: \"\"\n  },\n\n  getters: {\n    loggedInUser: state => state.loggedInUser,\n    loading: state => state.loading,\n    error: state => state.error\n  },\n  mutations: {\n\n    setUser(state, data) {\n      state.loggedInUser = data;\n      state.loading = false;\n      state.error = null;\n    },\n    setLogout(state) {\n\n      state.loggedInUser = null;\n      state.loading = false;\n      state.error = null;\n      //localStorage.removeItem(\"userInfo\")\n      //this.$router.go(\"/\");\n      //this.$router.push(\"/app/sessions/signIn\");\n\n    },\n\n    setLoading(state, data) {\n      state.loading = data;\n      state.error = null;\n    },\n    setError(state, data) {\n      state.error = data;\n      state.loggedInUser = null;\n      state.loading = false;\n    },\n    clearError(state) {\n      state.error = null;\n    }\n  },\n\n  actions: {\n\n    login({commit}, data) {\n\n      commit(\"clearError\");\n      commit(\"setLoading\", true);\n\n      Vue.prototype.$keycloak.loginFn()\n\n        console.log(data.login);\n\n\n        const newUser = {uid: 1};\n        localStorage.setItem(\"userInfo\", JSON.stringify(newUser));\n        commit(\"setUser\", {uid: 1});\n\n\n      /*firebase\n        .auth()\n        .signInWithEmailAndPassword(data.email, data.password)\n        .then(user => {\n          const newUser = {uid: user.user.uid};\n          localStorage.setItem(\"userInfo\", JSON.stringify(newUser));\n          commit(\"setUser\", {uid: user.user.uid});\n          console.log(\"user\");\n        })\n        .catch(function(error) {\n          // Handle Errors here.\n          // var errorCode = error.code;\n          // var errorMessage = error.message;\n          // console.log(error);\n          localStorage.removeItem(\"userInfo\");\n          commit(\"setError\", error);\n          // ...\n        });*/\n\n    },\n    signUserUp({commit}, data) {\n      commit(\"setLoading\", true);\n      commit(\"clearError\");\n        console.log(data.email);\n      /*firebase\n        .auth()\n        .createUserWithEmailAndPassword(data.email, data.password)\n        .then(user => {\n          commit(\"setLoading\", false);\n\n          const newUser = {\n            uid: user.user.uid\n          };\n          console.log(newUser);\n          localStorage.setItem(\"userInfo\", JSON.stringify(newUser));\n          commit(\"setUser\", newUser);\n        })\n        .catch(error => {\n          commit(\"setLoading\", false);\n          commit(\"setError\", error);\n          localStorage.removeItem(\"userInfo\");\n          console.log(error);\n        });*/\n    },\n    signOut() {\n        //commit(\"setLogout\");\n\n        Vue.prototype.$keycloak.logoutFn()\n        localStorage.removeItem(\"userinfo\");\n      /*firebase\n        .auth()\n        .signOut()\n        .then(\n          () => {\n            localStorage.removeItem(\"userInfo\");\n            commit(\"setLogout\");\n          },\n          _error => {}\n        );\n    */}\n\n  }\n};\n"]}]}