{"remainingRequest":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-picture-upload/src/vue-picture-upload.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-picture-upload/src/vue-picture-upload.vue","mtime":1660392216287},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQpleHBvcnQgZGVmYXVsdCB7DQogIHByb3BzOiB7DQogICAgSW1hZ2VzOiB7DQogICAgICB0eXBlOiBBcnJheSwNCiAgICAgIHJlcXVpcmVkOiB0cnVlDQogICAgfSwNCiAgICBrZXlOYW1lOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICByZXF1aXJlZDogdHJ1ZQ0KICAgIH0sDQogICAgdmFsdWVOYW1lOiB7DQogICAgICB0eXBlOiBTdHJpbmcsDQogICAgICByZXF1aXJlZDogdHJ1ZQ0KICAgIH0sDQogICAgbXVsdGlwbGU6IHsNCiAgICAgIHR5cGU6IEJvb2xlYW4sDQogICAgICBkZWZhdWx0OiB0cnVlDQogICAgfSwNCiAgICBhY2NlcHQ6IHsNCiAgICAgIHR5cGU6IFN0cmluZywNCiAgICAgIGRlZmF1bHQ6ICIuanBnLCAucG5nLCAuc3ZnIg0KICAgIH0NCiAgfSwNCiAgZGF0YTogKCkgPT4gKHsNCiAgICBwcmVMb2FkZWQ6IFtdDQogIH0pLA0KICBtZXRob2RzOiB7DQogICAgU2VsZWN0KCkgew0KICAgICAgdGhpcy4kcmVmcy5maWxlLmNsaWNrKCk7DQogICAgfSwNCiAgICBSZW1vdmUoZSkgew0KICAgICAgY29uc29sZS5sb2coZSk7DQogICAgICB0aGlzLiRlbWl0KCJyZW1vdmUiLCBlW3RoaXMua2V5TmFtZV0pOw0KICAgICAgY29uc3QgaW5kZXggPSB0aGlzLkltYWdlcy5pbmRleE9mKA0KICAgICAgICB0aGlzLkltYWdlcy5maWx0ZXIoZWwgPT4gZWxbdGhpcy5rZXlOYW1lXSA9PT0gZVt0aGlzLmtleU5hbWVdKVswXQ0KICAgICAgKTsNCiAgICAgIGlmIChpbmRleCB8fCBpbmRleCA9PT0gMCkgew0KICAgICAgICB0aGlzLkltYWdlcy5zcGxpY2UoaW5kZXgsIDEpOw0KICAgICAgfQ0KICAgIH0sDQogICAgUmVtb3ZlRnJvbUJ1ZmVyKGUpIHsNCiAgICAgIGNvbnN0IGluZGV4ID0gdGhpcy5wcmVMb2FkZWQuaW5kZXhPZigNCiAgICAgICAgdGhpcy5wcmVMb2FkZWQuZmlsdGVyKGVsID0+IGVsLm5hbWUgPT09IGUubmFtZSlbMF0NCiAgICAgICk7DQogICAgICBpZiAoaW5kZXggfHwgaW5kZXggPT09IDApIHsNCiAgICAgICAgdGhpcy5wcmVMb2FkZWQuc3BsaWNlKGluZGV4LCAxKTsNCiAgICAgIH0NCiAgICB9LA0KICAgIFVwbG9hZCgpIHsNCiAgICAgIEFycmF5LmZyb20odGhpcy5wcmVMb2FkZWQpLmZvckVhY2goZWwgPT4gew0KICAgICAgICB0aGlzLiRlbWl0KCJ1cGxvYWQiLCBlbC5pbWFnZSk7DQogICAgICB9KTsNCiAgICAgIHRoaXMucHJlTG9hZGVkID0gW107DQogICAgfSwNCiAgICBhc3luYyBoYW5kbGVGaWxlVXBsb2FkKCkgew0KICAgICAgY29uc3QgZmlsZXMgPSB0aGlzLiRyZWZzLmZpbGUuZmlsZXM7DQogICAgICBBcnJheS5mcm9tKGZpbGVzKS5mb3JFYWNoKGZpbGUgPT4gew0KICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpOw0KICAgICAgICByZWFkZXIub25sb2FkID0gZSA9PiB7DQogICAgICAgICAgdGhpcy5wcmVMb2FkZWQucHVzaCh7IGltYWdlOiBlLnRhcmdldC5yZXN1bHQsIG5hbWU6IGZpbGUubmFtZSB9KTsNCiAgICAgICAgfTsNCiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoZmlsZSk7DQogICAgICB9KTsNCg0KICAgICAgY29uc29sZS5sb2coZmlsZXMpOw0KICAgIH0sDQogICAgR2V0U3R5bGUoaW1hZ2UpIHsNCiAgICAgIHJldHVybiB7DQogICAgICAgICJiYWNrZ3JvdW5kLWltYWdlIjogInVybCgiICsgaW1hZ2UgKyAiKSINCiAgICAgIH07DQogICAgfQ0KICB9LA0KICBuYW1lOiAidnVlLXBpY3R1cmUtdXBsb2FkIg0KfTsNCg=="},{"version":3,"sources":["vue-picture-upload.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;AAsBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"vue-picture-upload.vue","sourceRoot":"node_modules/vue-picture-upload/src","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"image_container\">\r\n      <div class=\"image\" v-for=\"i in Images\" :key=\"i[keyName]\" :style=\"GetStyle(i[valueName])\">\r\n        <div class=\"image_button_constainer\">\r\n          <button class=\"reset remove\" @click=\"Remove(i)\">+</button>\r\n        </div>\r\n      </div>\r\n      <div class=\"outline q-pa-sm row justify-around\" v-if=\"preLoaded.length > 0\">\r\n        <div class=\"image\" v-for=\"i in preLoaded\" :key=\"i.name\" :style=\"GetStyle(i.image)\">\r\n          <div class=\"image_button_constainer\">\r\n            <button class=\"reset remove\" @click=\"RemoveFromBufer(i)\">+</button>\r\n          </div>\r\n        </div>\r\n        <button class=\"reset load\" @click=\"Upload()\">Загрузить</button>\r\n      </div>\r\n      <input type=\"file\" id=\"file\" ref=\"file\" :accept=\"accept\" :multiple=\"multiple\" v-on:change=\"handleFileUpload()\" />\r\n      <button class=\"add reset\" @click=\"Select()\">+</button>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nexport default {\r\n  props: {\r\n    Images: {\r\n      type: Array,\r\n      required: true\r\n    },\r\n    keyName: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    valueName: {\r\n      type: String,\r\n      required: true\r\n    },\r\n    multiple: {\r\n      type: Boolean,\r\n      default: true\r\n    },\r\n    accept: {\r\n      type: String,\r\n      default: \".jpg, .png, .svg\"\r\n    }\r\n  },\r\n  data: () => ({\r\n    preLoaded: []\r\n  }),\r\n  methods: {\r\n    Select() {\r\n      this.$refs.file.click();\r\n    },\r\n    Remove(e) {\r\n      console.log(e);\r\n      this.$emit(\"remove\", e[this.keyName]);\r\n      const index = this.Images.indexOf(\r\n        this.Images.filter(el => el[this.keyName] === e[this.keyName])[0]\r\n      );\r\n      if (index || index === 0) {\r\n        this.Images.splice(index, 1);\r\n      }\r\n    },\r\n    RemoveFromBufer(e) {\r\n      const index = this.preLoaded.indexOf(\r\n        this.preLoaded.filter(el => el.name === e.name)[0]\r\n      );\r\n      if (index || index === 0) {\r\n        this.preLoaded.splice(index, 1);\r\n      }\r\n    },\r\n    Upload() {\r\n      Array.from(this.preLoaded).forEach(el => {\r\n        this.$emit(\"upload\", el.image);\r\n      });\r\n      this.preLoaded = [];\r\n    },\r\n    async handleFileUpload() {\r\n      const files = this.$refs.file.files;\r\n      Array.from(files).forEach(file => {\r\n        const reader = new FileReader();\r\n        reader.onload = e => {\r\n          this.preLoaded.push({ image: e.target.result, name: file.name });\r\n        };\r\n        reader.readAsDataURL(file);\r\n      });\r\n\r\n      console.log(files);\r\n    },\r\n    GetStyle(image) {\r\n      return {\r\n        \"background-image\": \"url(\" + image + \")\"\r\n      };\r\n    }\r\n  },\r\n  name: \"vue-picture-upload\"\r\n};\r\n</script>\r\n<style scoped>\r\n#file {\r\n  display: none;\r\n}\r\n.image_container {\r\n  display: flex;\r\n  flex-wrap: wrap;\r\n  align-items: center;\r\n  justify-items: center;\r\n}\r\n.image {\r\n  width: 100px;\r\n  height: 70px;\r\n  margin: 5px;\r\n  background-size: cover;\r\n}\r\n.reset {\r\n  background: none;\r\n  border: none;\r\n  outline: none;\r\n}\r\n.add {\r\n  cursor: pointer;\r\n  font-size: 40px;\r\n  margin: 10px 20px;\r\n  transition-duration: 0.4s;\r\n}\r\n.add:hover {\r\n  transition-duration: 0.1s;\r\n  color: lightskyblue;\r\n}\r\n.add:active {\r\n  color: lightcoral;\r\n}\r\n.image_button_constainer {\r\n  background: rgba(17, 16, 16, 0.137);\r\n  display: flex;\r\n  justify-content: flex-end;\r\n}\r\n.remove {\r\n  top: 0px;\r\n  right: 0px;\r\n  transform: rotate(45deg); /* Standard syntax */\r\n  cursor: pointer;\r\n  color: white;\r\n  font-size: 13pt;\r\n  transition-duration: 0.3s;\r\n  text-shadow: 0px 0px 2px white; /* Параметры тени */\r\n}\r\n.remove :hover {\r\n  color: red;\r\n  text-shadow: 0px 0px 2px red; /* Параметры тени */\r\n}\r\n.outline {\r\n  border: 1px gray solid;\r\n  border-radius: 3px;\r\n}\r\n.load {\r\n  font-size: 14pt;\r\n  cursor: pointer;\r\n  transition-duration: 0.3s;\r\n}\r\n.load:hover {\r\n  text-decoration: underline;\r\n}\r\n.justify-around {\r\n    justify-content: space-around;\r\n}\r\n</style>\r\n"]}]}