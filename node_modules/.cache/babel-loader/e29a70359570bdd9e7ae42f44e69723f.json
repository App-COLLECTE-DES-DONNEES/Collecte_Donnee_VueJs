{"remainingRequest":"C:\\Users\\WORLDNEWS\\Desktop\\CATIS TOUS LES PROJETS FRONTEND\\collectedonnee\\collectedonnee\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\WORLDNEWS\\Desktop\\CATIS TOUS LES PROJETS FRONTEND\\collectedonnee\\collectedonnee\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\WORLDNEWS\\Desktop\\CATIS TOUS LES PROJETS FRONTEND\\collectedonnee\\collectedonnee\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\WORLDNEWS\\Desktop\\CATIS TOUS LES PROJETS FRONTEND\\collectedonnee\\collectedonnee\\src\\views\\app\\components\\CanvasDraw.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\WORLDNEWS\\Desktop\\CATIS TOUS LES PROJETS FRONTEND\\collectedonnee\\collectedonnee\\src\\views\\app\\components\\CanvasDraw.vue","mtime":1661425840000},{"path":"C:\\Users\\WORLDNEWS\\Desktop\\CATIS TOUS LES PROJETS FRONTEND\\collectedonnee\\collectedonnee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WORLDNEWS\\Desktop\\CATIS TOUS LES PROJETS FRONTEND\\collectedonnee\\collectedonnee\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\Users\\WORLDNEWS\\Desktop\\CATIS TOUS LES PROJETS FRONTEND\\collectedonnee\\collectedonnee\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\Users\\WORLDNEWS\\Desktop\\CATIS TOUS LES PROJETS FRONTEND\\collectedonnee\\collectedonnee\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3RvciI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnQ2FudmFzRHJhdycsCiAgcHJvcHM6IHsKICAgIGJydXNoU2l6ZTogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDMKICAgIH0sCiAgICB3aWR0aDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDY0MAogICAgfSwKICAgIGhlaWdodDogewogICAgICB0eXBlOiBOdW1iZXIsCiAgICAgIGRlZmF1bHQ6IDQ4MAogICAgfSwKICAgIG91dHB1dE5hbWU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAnY2FudmFzJwogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNhbnZhc0NvbnRleHQ6IG51bGwsCiAgICAgIGN1cnNvckNvbnRleHQ6IG51bGwsCiAgICAgIGlzRHJhd2luZzogZmFsc2UsCiAgICAgIGxhc3RYOiAwLAogICAgICBsYXN0WTogMCwKICAgICAgdG9vbHM6IFt7CiAgICAgICAgbmFtZTogJ1BlbmNpbCcsCiAgICAgICAgY29sb3I6ICcjMDAwMDAwJwogICAgICB9LCB7CiAgICAgICAgbmFtZTogJ0VyYXNlcicKICAgICAgfV0sCiAgICAgIHNlbGVjdGVkVG9vbElkeDogMAogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLnNldENhbnZhcygpOwogICAgdGhpcy5iaW5kRXZlbnRzKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBzZXRDYW52YXM6IGZ1bmN0aW9uIHNldENhbnZhcygpIHsKICAgICAgdGhpcy4kcmVmcy5jYW52YXNXcmFwcGVyLnN0eWxlLmdyaWRUZW1wbGF0ZUNvbHVtbnMgPSAiIi5jb25jYXQodGhpcy53aWR0aCwgInB4IDMwcHgiKTsKICAgICAgdGhpcy4kcmVmcy5jYW52YXNXcmFwcGVyLnN0eWxlLndpZHRoID0gIiIuY29uY2F0KHRoaXMud2lkdGggKyAzMCwgInB4Iik7CiAgICAgIHRoaXMuJHJlZnMuY2FudmFzV3JhcHBlci5zdHlsZS5oZWlnaHQgPSAiIi5jb25jYXQodGhpcy5oZWlnaHQsICJweCIpOwogICAgICB0aGlzLmNhbnZhc0NvbnRleHQgPSB0aGlzLiRyZWZzLmNhbnZhcy5nZXRDb250ZXh0KCcyZCcpOwogICAgICB0aGlzLmNhbnZhc0NvbnRleHQubGluZUpvaW4gPSAncm91bmQnOwogICAgICB0aGlzLmNhbnZhc0NvbnRleHQubGluZUNhcCA9ICdyb3VuZCc7CiAgICAgIHRoaXMuY2FudmFzQ29udGV4dC5saW5lV2lkdGggPSB0aGlzLmJydXNoU2l6ZTsKICAgICAgdGhpcy5jYW52YXNDb250ZXh0LnN0cm9rZVN0eWxlID0gdGhpcy50b29sc1t0aGlzLnNlbGVjdGVkVG9vbElkeF0uY29sb3I7CiAgICAgIHRoaXMuY3Vyc29yQ29udGV4dCA9IHRoaXMuJHJlZnMuY3Vyc29yLmdldENvbnRleHQoJzJkJyk7CiAgICB9LAogICAgYmluZEV2ZW50czogZnVuY3Rpb24gYmluZEV2ZW50cygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHRoaXMuJHJlZnMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIGZ1bmN0aW9uIChldmVudCkgewogICAgICAgIF90aGlzLmlzRHJhd2luZyA9IHRydWU7CiAgICAgICAgdmFyIF9yZWYgPSBbZXZlbnQub2Zmc2V0WCwgZXZlbnQub2Zmc2V0WV07CiAgICAgICAgX3RoaXMubGFzdFggPSBfcmVmWzBdOwogICAgICAgIF90aGlzLmxhc3RZID0gX3JlZlsxXTsKICAgICAgfSk7CiAgICAgIHRoaXMuJHJlZnMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlbW92ZScsIHRoaXMuZHJhdyk7CiAgICAgIHRoaXMuJHJlZnMuY2FudmFzLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNldXAnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmlzRHJhd2luZyA9IGZhbHNlOwogICAgICB9KTsKICAgICAgdGhpcy4kcmVmcy5jYW52YXMuYWRkRXZlbnRMaXN0ZW5lcignbW91c2VvdXQnLCBmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmlzRHJhd2luZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBjaGFuZ2VUb29sOiBmdW5jdGlvbiBjaGFuZ2VUb29sKHRvb2wpIHsKICAgICAgdGhpcy5zZWxlY3RlZFRvb2xJZHggPSB0b29sOwoKICAgICAgaWYgKHRvb2wgPT0gMCkgewogICAgICAgIHRoaXMuYnJ1c2hTaXplID0gMzsKICAgICAgICB0aGlzLmNhbnZhc0NvbnRleHQubGluZVdpZHRoID0gdGhpcy5icnVzaFNpemU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5icnVzaFNpemUgPSAxMjsKICAgICAgICB0aGlzLmNhbnZhc0NvbnRleHQubGluZVdpZHRoID0gdGhpcy5icnVzaFNpemU7CiAgICAgIH0KCiAgICAgIHRoaXMuc2V0Q2FudmFzKCk7CiAgICB9LAogICAgZHJhdzogZnVuY3Rpb24gZHJhdyhldmVudCkgewogICAgICB0aGlzLmRyYXdDdXJzb3IoZXZlbnQpOwogICAgICBpZiAoIXRoaXMuaXNEcmF3aW5nKSByZXR1cm47CgogICAgICBpZiAodGhpcy50b29sc1t0aGlzLnNlbGVjdGVkVG9vbElkeF0ubmFtZSA9PT0gJ0VyYXNlcicpIHsKICAgICAgICB0aGlzLmNhbnZhc0NvbnRleHQuZ2xvYmFsQ29tcG9zaXRlT3BlcmF0aW9uID0gJ2Rlc3RpbmF0aW9uLW91dCc7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5jYW52YXNDb250ZXh0Lmdsb2JhbENvbXBvc2l0ZU9wZXJhdGlvbiA9ICdzb3VyY2Utb3Zlcic7CiAgICAgICAgdGhpcy5jYW52YXNDb250ZXh0LnN0cm9rZVN0eWxlID0gdGhpcy50b29sc1t0aGlzLnNlbGVjdGVkVG9vbElkeF0uY29sb3I7CiAgICAgIH0KCiAgICAgIHRoaXMuY2FudmFzQ29udGV4dC5iZWdpblBhdGgoKTsKICAgICAgdGhpcy5jYW52YXNDb250ZXh0Lm1vdmVUbyh0aGlzLmxhc3RYLCB0aGlzLmxhc3RZKTsKICAgICAgdGhpcy5jYW52YXNDb250ZXh0LmxpbmVUbyhldmVudC5vZmZzZXRYLCBldmVudC5vZmZzZXRZKTsKICAgICAgdGhpcy5jYW52YXNDb250ZXh0LnN0cm9rZSgpOwogICAgICB2YXIgX3JlZjIgPSBbZXZlbnQub2Zmc2V0WCwgZXZlbnQub2Zmc2V0WV07CiAgICAgIHRoaXMubGFzdFggPSBfcmVmMlswXTsKICAgICAgdGhpcy5sYXN0WSA9IF9yZWYyWzFdOwogICAgfSwKICAgIGRyYXdDdXJzb3I6IGZ1bmN0aW9uIGRyYXdDdXJzb3IoZXZlbnQpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICB0aGlzLmN1cnNvckNvbnRleHQuYmVnaW5QYXRoKCk7CiAgICAgIHRoaXMuY3Vyc29yQ29udGV4dC5lbGxpcHNlKGV2ZW50Lm9mZnNldFgsIGV2ZW50Lm9mZnNldFksIHRoaXMuYnJ1c2hTaXplLCB0aGlzLmJydXNoU2l6ZSwgTWF0aC5QSSAvIDQsIDAsIDIgKiBNYXRoLlBJKTsKICAgICAgdGhpcy5jdXJzb3JDb250ZXh0LnN0cm9rZSgpOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuY3Vyc29yQ29udGV4dC5jbGVhclJlY3QoMCwgMCwgX3RoaXMyLndpZHRoLCBfdGhpczIuaGVpZ2h0KTsKICAgICAgfSwgMTAwKTsKICAgIH0sCiAgICBzaG93Q29sb3JQYWxldHRlOiBmdW5jdGlvbiBzaG93Q29sb3JQYWxldHRlKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKCiAgICAgIHZhciBjb2xvclBhbGV0dGUgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdpbnB1dCcpOwogICAgICBjb2xvclBhbGV0dGUuYWRkRXZlbnRMaXN0ZW5lcignY2hhbmdlJywgZnVuY3Rpb24gKGV2ZW50KSB7CiAgICAgICAgX3RoaXMzLnRvb2xzWzBdLmNvbG9yID0gZXZlbnQudGFyZ2V0LnZhbHVlOwogICAgICB9KTsKICAgICAgY29sb3JQYWxldHRlLnR5cGUgPSAnY29sb3InOwogICAgICBjb2xvclBhbGV0dGUudmFsdWUgPSB0aGlzLnRvb2xzWzBdLmNvbG9yOwogICAgICBjb2xvclBhbGV0dGUuY2xpY2soKTsKICAgIH0sCiAgICBkb3dubG9hZDogZnVuY3Rpb24gZG93bmxvYWQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwoKICAgICAgdmFyIGxpbmsgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KCdhJyk7CiAgICAgIGxpbmsuZG93bmxvYWQgPSAiIi5jb25jYXQodGhpcy5vdXRwdXROYW1lLCAiLnBuZyIpOwogICAgICBsaW5rLmhyZWYgPSB0aGlzLiRyZWZzLmNhbnZhcy50b0RhdGFVUkwoKTsKICAgICAgY29uc29sZS5sb2coJ3RoaXMuJHJlZnMuY2FudmFzLnRvRGF0YVVSTCgpJywgdGhpcy4kcmVmcy5jYW52YXMudG9EYXRhVVJMKCkpOyAvL2xpbmsuY2xpY2soKTsKICAgICAgLy8gY29udmVydCB0byBCbG9iIChhc3luYykKCiAgICAgIHRoaXMuJHJlZnMuY2FudmFzLnRvQmxvYihmdW5jdGlvbiAoYmxvYikgewogICAgICAgIHZhciBmaWxlID0gbmV3IEZpbGUoW2Jsb2JdLCAibXljYW52YXMucG5nIik7CiAgICAgICAgdmFyIGRUID0gbmV3IERhdGFUcmFuc2ZlcigpOwogICAgICAgIGRULml0ZW1zLmFkZChmaWxlKTsKICAgICAgICB2YXIgZm9ybWRhdGEgPSBuZXcgRm9ybURhdGEoKTsKICAgICAgICBmb3JtZGF0YS5hcHBlbmQoJ2ltYWdlJywgZmlsZSk7CgogICAgICAgIF90aGlzNC4kZW1pdCgnc2VuZCcsIGZvcm1kYXRhKTsKICAgICAgfSk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["CanvasDraw.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"canvas-wrapper\" ref=\"canvasWrapper\">\n    <div class=\"draw-area\">\n      <canvas id=\"canvas\" ref=\"canvas\" :width=\"width\" :height=\"height\"></canvas>\n      <canvas id=\"cursor\" ref=\"cursor\" :width=\"width\" :height=\"height\"></canvas>\n    </div>\n    <ul class=\"tools\">\n      <li id=\"tool-pencil\" :class=\"{ active: selectedToolIdx === 0 }\" @click=\"changeTool(0)\">\n        <img src=\"@/assets/edit.svg\"/>\n      </li>\n      <li id=\"tool-eraser\" :class=\"{ active: selectedToolIdx === 1 }\" @click=\"changeTool(1)\">\n        <img src=\"@/assets/eraser.svg\"/>\n      </li>\n      <li id=\"tool-color-palette\" @click=\"showColorPalette()\">\n        <img src=\"@/assets/color-palette.svg\"/>\n      </li>\n      <li id=\"tool-download\" @click=\"download()\">\n        <img src=\"@/assets/download.svg\"/>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\n\nexport default {\n  name: 'CanvasDraw',\n  props: {\n    brushSize: {\n      type: Number,\n      default: 3,\n    },\n    width: {\n      type: Number,\n      default: 640,\n    },\n    height: {\n      type: Number,\n      default: 480,\n    },\n    outputName: {\n      type: String,\n      default: 'canvas',\n    },\n  },\n  data() {\n    return {\n      canvasContext: null,\n      cursorContext: null,\n      isDrawing: false,\n      lastX: 0,\n      lastY: 0,\n      tools: [\n        {\n          name: 'Pencil',\n          color: '#000000',\n        },\n        {\n          name: 'Eraser',\n        },\n      ],\n      selectedToolIdx: 0,\n    };\n  },\n  mounted() {\n    this.setCanvas();\n    this.bindEvents();\n  },\n  methods: {\n    setCanvas() {\n      this.$refs.canvasWrapper.style.gridTemplateColumns = `${this.width}px 30px`;\n      this.$refs.canvasWrapper.style.width = `${this.width + 30}px`;\n      this.$refs.canvasWrapper.style.height = `${this.height}px`;\n      this.canvasContext = this.$refs.canvas.getContext('2d');\n      this.canvasContext.lineJoin = 'round';\n      this.canvasContext.lineCap = 'round';\n      this.canvasContext.lineWidth = this.brushSize;\n      this.canvasContext.strokeStyle = this.tools[this.selectedToolIdx].color;\n      this.cursorContext = this.$refs.cursor.getContext('2d');\n    },\n    bindEvents() {\n      this.$refs.canvas.addEventListener('mousedown', (event) => {\n        this.isDrawing = true;\n        [this.lastX, this.lastY] = [event.offsetX, event.offsetY];\n      });\n      this.$refs.canvas.addEventListener('mousemove', this.draw);\n      this.$refs.canvas.addEventListener('mouseup', () => this.isDrawing = false);\n      this.$refs.canvas.addEventListener('mouseout', () => this.isDrawing = false);\n    },\n    changeTool(tool) {\n      this.selectedToolIdx = tool;\n\n      if(tool==0){\n        this.brushSize=3\n        this.canvasContext.lineWidth = this.brushSize;\n      }else{\n        this.brushSize=12\n        this.canvasContext.lineWidth = this.brushSize;\n      }\n      this.setCanvas()\n    },\n    draw(event) {\n      this.drawCursor(event);\n      if (!this.isDrawing) return;\n      if (this.tools[this.selectedToolIdx].name === 'Eraser') {\n        this.canvasContext.globalCompositeOperation = 'destination-out';\n      } else {\n        this.canvasContext.globalCompositeOperation = 'source-over';\n        this.canvasContext.strokeStyle = this.tools[this.selectedToolIdx].color;\n      }\n      this.canvasContext.beginPath();\n      this.canvasContext.moveTo(this.lastX, this.lastY);\n      this.canvasContext.lineTo(event.offsetX, event.offsetY);\n      this.canvasContext.stroke();\n      [this.lastX, this.lastY] = [event.offsetX, event.offsetY];\n    },\n    drawCursor(event) {\n      this.cursorContext.beginPath();\n      this.cursorContext.ellipse(\n          event.offsetX, event.offsetY,\n          this.brushSize, this.brushSize,\n          Math.PI / 4, 0, 2 * Math.PI\n      );\n      this.cursorContext.stroke();\n      setTimeout(() => {\n        this.cursorContext.clearRect(0, 0, this.width, this.height);\n      }, 100);\n    },\n    showColorPalette() {\n      const colorPalette = document.createElement('input');\n      colorPalette.addEventListener('change', (event) => {\n        this.tools[0].color = event.target.value;\n      });\n      colorPalette.type = 'color';\n      colorPalette.value = this.tools[0].color;\n      colorPalette.click();\n    },\n    download() {\n      const link = document.createElement('a');\n      link.download = `${this.outputName}.png`;\n      link.href = this.$refs.canvas.toDataURL()\n\n      console.log('this.$refs.canvas.toDataURL()',this.$refs.canvas.toDataURL())\n      //link.click();\n\n      // convert to Blob (async)\n      this.$refs.canvas.toBlob( (blob) => {\n        const file = new File( [ blob ], \"mycanvas.png\" );\n        const dT = new DataTransfer();\n        dT.items.add( file );\n\n        let formdata = new FormData();\n        formdata.append('image',file)\n\n        this.$emit('send',formdata)\n\n      } );\n    },\n  }\n}\n</script>\n<style scoped>\n.canvas-wrapper {\n  display: grid;\n  position: relative;\n}\n#canvas {\n  background-color: #f9f9f9;\n  z-index: 0;\n}\n#cursor {\n  z-index: 1;\n  pointer-events: none;\n}\n.active {\n  background-color: #dea878 !important;\n}\n.tools {\n  margin: 0;\n  padding: 0;\n}\n.tools li{\n  padding: 4px;\n  background-color: #c8c8c8;\n  border-left: 1px solid #abaaaa;\n}\n.tools li:not(:last-child) {\n  border-bottom: 1px solid #abaaaa;\n}\n.draw-area canvas {\n  position: absolute;\n  left: 0;\n  top: 0;\n  border: 2px solid #c8c8c8;\n  border-radius: 10px 0 10px 10px;\n}\n</style>"],"sourceRoot":"src/views/app/components"}]}