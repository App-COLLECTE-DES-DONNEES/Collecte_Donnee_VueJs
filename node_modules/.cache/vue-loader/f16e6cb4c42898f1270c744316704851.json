{"remainingRequest":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macbookpro/IdeaProjects/collectedonnee/src/views/app/visit/signin.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/src/views/app/visit/signin.vue","mtime":1660069426248},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgoKaW1wb3J0IHsgbWFwR2V0dGVycyxtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7Ci8vIGltcG9ydCB7IG1ha2VUb2FzdCB9IGZyb20gJy4uLy4uLy4uL3BsdWdpbnMvZnVuY3Rpb25zJwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiJzaWduaW4iLAogICAgcHJvcHM6ewogICAgICAgIHJvd2VzOkFycmF5CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICAuLi5tYXBHZXR0ZXJzKFsiZ2V0U3RhdHVzU2lnbmF0dXJlIl0pLAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgb3BlbmI6ZmFsc2UKICAgICAgICB9fSwKCiAgICBtZXRob2RzOiB7CiAgICAgICAgbWFrZVRvYXN0KHZhcmlhbnQgPSBudWxsLHR5cGU9ImluZm8iKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQbGVhc2UgZmlsbCB0aGUgZm9ybSBjb3JyZWN0bHknLHZhcmlhbnQpCiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgICAgICAgY2FzZSAwOiB0eXBlPSJlcnJvciI7IGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAxOiB0eXBlPSJzdWNjZXNzIiA7IGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAyOiB0eXBlPSJpbmZvIjsgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDM6IHR5cGU9Indhcm5pbmciOyBicmVhazsKCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuJHRvYXN0ZWQuc2hvdyh0aGlzLiR0KHZhcmlhbnQpLHt0eXBlOnR5cGV9KQogICAgICAgIH0sCiAgICAgICAgLi4ubWFwQWN0aW9ucyhbCiAgICAgICAgICAgICJzYXZlc2lnbmF0dXJlIgogICAgICAgIF0pLAogICAgICAgIHVuZG8oKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuc2lnbmF0dXJlUGFkLnVuZG9TaWduYXR1cmUoKTsKICAgICAgICB9LAogICAgICAgIHNhdmUoKSB7CgogICAgICAgICAgIC8vIHRoaXMub3BlbmI9dHJ1ZQogICAgICAgICAgICBjb25zdCB7IGlzRW1wdHksIGRhdGEgfSA9IHRoaXMuJHJlZnMuc2lnbmF0dXJlUGFkLnNhdmVTaWduYXR1cmUoKTsKICAgICAgICAgICAgY29uc29sZS5sb2coaXNFbXB0eSk7CiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAgIC8vIGlmKGlzRW1wdHkpewogICAgICAgICAgdGhpcy4kZW1pdCgnc2lnbmF0dXJlJyxkYXRhKQogICAgICAgICAgICAvL3RoaXMuc2F2ZXNpZ25hdHVyZSh7aW1hZ2VWYWx1ZTpkYXRhLGlkOnRoaXMucm93ZXNbMF0uaWR9KQoKICAgICAgICAgICAgLyogfWVsc2V7CiAgICAgICAgICAgICAgICAgdGhpcy5tYWtlVG9hc3QodGhpcy4kdCgnc2lnbmF0dXJlX2VtcHR5JyksMCkKICAgICAgICAgICAgIH0qLwoKCiAgICAgICAgfQogICAgfSwKCiAgICBtb3VudGVkKCl7CiAgICAgICAgY29uc29sZS5sb2coJ21vdW50ZWQnLHRoaXMucm93ZXMpCiAgICAgICAgLy9jb25zb2xlLmxvZygnbW91bnRlZCcsdGhpcy5yb3dlc1swXS5pZCkKICAgICAgICBpZiAodHlwZW9mIHRoaXMucm93ZXMgPT09ICJ1bmRlZmluZWQiKXsKICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnYWxsdmlzaXRfbGlzdCcsIHBhcmFtczogeyBpZDogJzAnIH19KQogICAgICAgIH0KICAgIH0sCgogICAgd2F0Y2g6IHsKCiAgICAgICAgZ2V0U3RhdHVzU2lnbmF0dXJlOmZ1bmN0aW9uKHZhbHVlKXsKICAgICAgICAgICAgdGhpcy5vcGVuYj1mYWxzZQogICAgICAgICAgICBjb25zb2xlLmxvZygndmFsdWUnLHZhbHVlKQoKICAgICAgICAgICAgaWYodmFsdWUpewoKICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoJ3NpZ25hdHVyZScsdmFsdWUpCgogICAgICAgICAgICAgICAgLy90aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdhbGx2aXNpdF9saXN0JyB9KQogICAgICAgICAgICAgICAgdGhpcy5tYWtlVG9hc3QoJ3NpZ25hdHVyZSBvaycsMSkKICAgICAgICAgICAgICAgIC8vdGhpcy4kc3RvcmUuc3RhdGUudmlzaXRzLnNpZ25hdHVyZT1mYWxzZQoKICAgICAgICAgICAgfWVsc2V7CgogICAgICAgICAgICAgICAgdGhpcy5tYWtlVG9hc3QoJ3NpZ25hdHVyZSBlJywwKQoKICAgICAgICAgICAgfQogICAgICAgIH0KICAgIH0KfTsK"},{"version":3,"sources":["signin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA","file":"signin.vue","sourceRoot":"src/views/app/visit","sourcesContent":["<template>\n\n    <b-modal scrollable no-close-on-backdrop   id=\"signin\" size=\"lg\" hide-footer>\n\n        <b-overlay :show=\"openb\" rounded=\"sm\" >\n            <div id=\"app\" style=\"border: 4px solid #ffc107\">\n\n                <VueSignaturePad width=\"768px\" height=\"346px\" ref=\"signaturePad\"\n                                 :options=\"{onBegin: () => {$refs.signaturePad.resizeCanvas()}}\" />\n\n                <div>\n                    <b-button  variant=\"outline-danger\" @click=\"$router.go(-1)\" style=\"margin-left: 10px\">{{$t('Annuler')}}</b-button>\n                    <b-button type=\"submit\" variant=\"outline-success rights\"  style=\"margin-right:10px;float: right\" @click=\"save()\" >{{$t('Enregistrer')}}</b-button>\n\n                </div>\n\n            </div>\n\n        </b-overlay>\n\n    </b-modal>\n\n</template>\n\n\n<script>\n\n\n    import { mapGetters,mapActions } from \"vuex\";\n    // import { makeToast } from '../../../plugins/functions'\n    export default {\n        name:\"signin\",\n        props:{\n            rowes:Array\n        },\n        computed: {\n            ...mapGetters([\"getStatusSignature\"]),\n        },\n        data() {\n            return {\n                openb:false\n            }},\n\n        methods: {\n            makeToast(variant = null,type=\"info\") {\n                console.log('Please fill the form correctly',variant)\n                switch (type) {\n                    case 0: type=\"error\"; break;\n                    case 1: type=\"success\" ; break;\n                    case 2: type=\"info\"; break;\n                    case 3: type=\"warning\"; break;\n\n                }\n\n                this.$toasted.show(this.$t(variant),{type:type})\n            },\n            ...mapActions([\n                \"savesignature\"\n            ]),\n            undo() {\n                this.$refs.signaturePad.undoSignature();\n            },\n            save() {\n\n               // this.openb=true\n                const { isEmpty, data } = this.$refs.signaturePad.saveSignature();\n                console.log(isEmpty);\n                //console.log(data);\n                // if(isEmpty){\n              this.$emit('signature',data)\n                //this.savesignature({imageValue:data,id:this.rowes[0].id})\n\n                /* }else{\n                     this.makeToast(this.$t('signature_empty'),0)\n                 }*/\n\n\n            }\n        },\n\n        mounted(){\n            console.log('mounted',this.rowes)\n            //console.log('mounted',this.rowes[0].id)\n            if (typeof this.rowes === \"undefined\"){\n                this.$router.push({ name: 'allvisit_list', params: { id: '0' }})\n            }\n        },\n\n        watch: {\n\n            getStatusSignature:function(value){\n                this.openb=false\n                console.log('value',value)\n\n                if(value){\n\n                    this.$emit('signature',value)\n\n                    //this.$router.push({ name: 'allvisit_list' })\n                    this.makeToast('signature ok',1)\n                    //this.$store.state.visits.signature=false\n\n                }else{\n\n                    this.makeToast('signature e',0)\n\n                }\n            }\n        }\n    };\n</script>"]}]}