{"remainingRequest":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/babel-loader/lib/index.js!/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macbookpro/IdeaProjects/collectedonnee/src/views/app/accident/croquis2.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/src/views/app/accident/croquis2.vue","mtime":1662382364224},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJzsKaW1wb3J0IGNvbnN0YW50cyBmcm9tICcuLi8uLi8uLi9wbHVnaW5zL2NvbnN0YW50cyc7CmltcG9ydCBDYW52YXNEcmF3IGZyb20gJy4vLi4vY29tcG9uZW50cy9DYW52YXNEcmF3LnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnY3JvcXVpczInLAogIGNvbXBvbmVudHM6IHsKICAgIENhbnZhc0RyYXc6IENhbnZhc0RyYXcKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBsb2FkYW5vdGhlcnBhZ2U6IGZhbHNlCiAgICB9OwogIH0sCiAgcHJvcHM6IHsKICAgIHJvd2VzOiBPYmplY3QKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICBjb25zb2xlLmxvZygncm93ZScsIHRoaXMucm93ZXMpOwogICAgY29uc29sZS5sb2coJ3Jvd2UnLCB0aGlzLnJvd2VzLmlkKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG1ha2VUb2FzdDogZnVuY3Rpb24gbWFrZVRvYXN0KCkgewogICAgICB2YXIgdmFyaWFudCA9IGFyZ3VtZW50cy5sZW5ndGggPiAwICYmIGFyZ3VtZW50c1swXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzBdIDogbnVsbDsKICAgICAgdmFyIHR5cGUgPSBhcmd1bWVudHMubGVuZ3RoID4gMSA/IGFyZ3VtZW50c1sxXSA6IHVuZGVmaW5lZDsKCiAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgIGNhc2UgMDoKICAgICAgICAgIHR5cGUgPSAiZXJyb3IiOwogICAgICAgICAgYnJlYWs7CgogICAgICAgIGNhc2UgMToKICAgICAgICAgIHR5cGUgPSAic3VjY2VzcyI7CiAgICAgICAgICBicmVhazsKCiAgICAgICAgY2FzZSAyOgogICAgICAgICAgdHlwZSA9ICJpbmZvIjsKICAgICAgICAgIGJyZWFrOwoKICAgICAgICBjYXNlIDM6CiAgICAgICAgICB0eXBlID0gIndhcm5pbmciOwogICAgICAgICAgYnJlYWs7CiAgICAgIH0KCiAgICAgIHRoaXMuJHRvYXN0ZWQuc2hvdyh2YXJpYW50LCB7CiAgICAgICAgdHlwZTogdHlwZQogICAgICB9KTsKICAgIH0sCiAgICBzZW5kOiBmdW5jdGlvbiBzZW5kKGZvcm1kYXRhKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLmxvYWRhbm90aGVycGFnZSA9IHRydWU7CiAgICAgIGZvcm1kYXRhLmFwcGVuZCgnYWNjaWRlbnRfaWQnLCB0aGlzLnJvd2VzLmlkKTsKICAgICAgYXhpb3MucG9zdChjb25zdGFudHMucmVzb3VyY2VfdXJsICsgJ2FjY2lkZW50cy9zYXZlLWRyYXdpbmcnLCBmb3JtZGF0YSwgewogICAgICAgIGhlYWRlcnM6IHsKICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YScKICAgICAgICB9CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKGxpc3QpIHsKICAgICAgICBjb25zb2xlLmxvZygnYWpvdXTDqScsIGxpc3QuZGF0YSk7CiAgICAgICAgY29uc29sZS5sb2coJ2Fqb3V0w6knLCBsaXN0LmRhdGEuc3VjY2Vzcyk7CgogICAgICAgIGlmIChsaXN0LmRhdGEuc3VjY2VzcykgewogICAgICAgICAgLy9idWlsZCBvYmplY3QgcGF0aAogICAgICAgICAgX3RoaXMubG9hZGFub3RoZXJwYWdlID0gZmFsc2U7CgogICAgICAgICAgX3RoaXMubWFrZVRvYXN0KF90aGlzLiR0KCdDcm9xdWlzIGRlIGxcJ2ltYWdlIGFqb3V0w6knKSwgMSk7CgogICAgICAgICAgX3RoaXMuJHJvdXRlci5wdXNoKHsKICAgICAgICAgICAgbmFtZTogJ2FjY2lkZW50cycKICAgICAgICAgIH0pOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5tYWtlVG9hc3QoX3RoaXMuJHQoJ2VycmV1ciBsb3JzIGRlIGxcJ2Fqb3V0IGRlIGxcJ2ltYWdlJyksIDApOwogICAgICAgIH0KCiAgICAgICAgY29uc29sZS5sb2coJ2NhcmUnLCBsaXN0LmRhdGEuZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUubG9nKCdwcm9kdWN0c19lcnJvcicsIGVycm9yKTsgLy8gSGFuZGxlIEVycm9ycyBoZXJlLgogICAgICAgIC8vIHZhciBlcnJvckNvZGUgPSBlcnJvci5jb2RlOwogICAgICB9KTsKICAgIH0KICB9Cn07"},{"version":3,"sources":["croquis2.vue"],"names":[],"mappings":";;;;;;;;;;;AAaA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,SAAA,MAAA,4BAAA;AACA,OAAA,UAAA,MAAA,gCAAA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,UADA;AAEA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA;AADA,GAFA;AAKA,EAAA,IALA,kBAKA;AAEA,WAAA;AACA,MAAA,eAAA,EAAA;AADA,KAAA;AAGA,GAVA;AAWA,EAAA,KAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GAXA;AAcA,EAAA,OAdA,qBAcA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,KAAA,KAAA;AACA,IAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,KAAA,KAAA,CAAA,EAAA;AACA,GAjBA;AAkBA,EAAA,OAAA,EAAA;AACA,IAAA,SADA,uBACA;AAAA,UAAA,OAAA,uEAAA,IAAA;AAAA,UAAA,IAAA;;AAEA,cAAA,IAAA;AACA,aAAA,CAAA;AAAA,UAAA,IAAA,GAAA,OAAA;AAAA;;AACA,aAAA,CAAA;AAAA,UAAA,IAAA,GAAA,SAAA;AAAA;;AACA,aAAA,CAAA;AAAA,UAAA,IAAA,GAAA,MAAA;AAAA;;AACA,aAAA,CAAA;AAAA,UAAA,IAAA,GAAA,SAAA;AAAA;AAJA;;AAQA,WAAA,QAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AAAA,QAAA,IAAA,EAAA;AAAA,OAAA;AAEA,KAbA;AAcA,IAAA,IAdA,gBAcA,QAdA,EAcA;AAAA;;AAEA,WAAA,eAAA,GAAA,IAAA;AACA,MAAA,QAAA,CAAA,MAAA,CAAA,aAAA,EAAA,KAAA,KAAA,CAAA,EAAA;AACA,MAAA,KAAA,CAAA,IAAA,CAAA,SAAA,CAAA,YAAA,GAAA,wBAAA,EAAA,QAAA,EACA;AACA,QAAA,OAAA,EAAA;AACA,0BAAA;AADA;AADA,OADA,EAMA,IANA,CAMA,UAAA,IAAA,EAAA;AAEA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,IAAA,CAAA,IAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,QAAA,EAAA,IAAA,CAAA,IAAA,CAAA,OAAA;;AAEA,YAAA,IAAA,CAAA,IAAA,CAAA,OAAA,EAAA;AACA;AACA,UAAA,KAAA,CAAA,eAAA,GAAA,KAAA;;AACA,UAAA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA,EAAA,CAAA,4BAAA,CAAA,EAAA,CAAA;;AACA,UAAA,KAAA,CAAA,OAAA,CAAA,IAAA,CAAA;AAAA,YAAA,IAAA,EAAA;AAAA,WAAA;AACA,SALA,MAKA;AACA,UAAA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA,EAAA,CAAA,qCAAA,CAAA,EAAA,CAAA;AACA;;AAEA,QAAA,OAAA,CAAA,GAAA,CAAA,MAAA,EAAA,IAAA,CAAA,IAAA,CAAA,IAAA;AACA,OArBA,EAsBA,KAtBA,CAsBA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,GAAA,CAAA,gBAAA,EAAA,KAAA,EADA,CAEA;AACA;AAEA,OA3BA;AA6BA;AA/CA;AAlBA,CAAA","sourcesContent":["<template>\n  <b-overlay :show=\"loadanotherpage\" rounded=\"sm\" >\n  <div >\n    <h1>Croquis de l'accident</h1>\n    <div class=\"show-area\">\n      <CanvasDraw :width=\"1000\" :height=\"480\" :outputName=\"'example'\" @send=\"send\"/>\n    </div>\n  </div>\n  </b-overlay>\n</template>\n\n<script>\n\nimport axios from 'axios'\nimport constants from '../../../plugins/constants'\nimport CanvasDraw from './../components/CanvasDraw.vue'\nexport default {\n  name: 'croquis2',\n  components: {\n    CanvasDraw\n  },\n  data() {\n\n    return {\n      loadanotherpage:false,\n    }\n  },\n  props:{\n    rowes:Object\n  },\n  mounted(){\n    console.log('rowe',this.rowes)\n    console.log('rowe',this.rowes.id)\n  },\n  methods:{\n    makeToast(variant = null,type) {\n\n      switch (type) {\n        case 0: type=\"error\"; break;\n        case 1: type=\"success\" ; break;\n        case 2: type=\"info\"; break;\n        case 3: type=\"warning\"; break;\n\n      }\n\n      this.$toasted.show((variant),{type:type})\n\n    },\n    send(formdata){\n\n      this.loadanotherpage=true\n      formdata.append('accident_id',this.rowes.id)\n      axios.post(constants.resource_url+'accidents/save-drawing',formdata,\n          {\n            headers: {\n              'Content-Type': 'multipart/form-data'\n            }}\n      )\n          .then(list => {\n\n            console.log('ajouté',list.data)\n            console.log('ajouté',list.data.success)\n\n            if(list.data.success){\n              //build object path\n              this.loadanotherpage=false\n              this.makeToast(this.$t('Croquis de l\\'image ajouté' ),1)\n              this.$router.push({name: 'accidents'})\n            }else{\n              this.makeToast(this.$t('erreur lors de l\\'ajout de l\\'image'),0)\n            }\n\n            console.log('care',list.data.data)\n          })\n          .catch(function(error) {\n            console.log('products_error',error);\n            // Handle Errors here.\n            // var errorCode = error.code;\n\n          });\n\n    }\n  }\n}\n\n</script>"],"sourceRoot":"src/views/app/accident"}]}