{"remainingRequest":"C:\\wamp64\\www\\toolsmctc\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\wamp64\\www\\toolsmctc\\src\\views\\app\\visit\\signin.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\wamp64\\www\\toolsmctc\\src\\views\\app\\visit\\signin.vue","mtime":1632637059284},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgoKaW1wb3J0IHsgbWFwR2V0dGVycyxtYXBBY3Rpb25zIH0gZnJvbSAidnVleCI7Ci8vIGltcG9ydCB7IG1ha2VUb2FzdCB9IGZyb20gJy4uLy4uLy4uL3BsdWdpbnMvZnVuY3Rpb25zJwpleHBvcnQgZGVmYXVsdCB7CiAgICBuYW1lOiJzaWduaW4iLAogICAgcHJvcHM6ewogICAgICAgIHJvd2VzOkFycmF5CiAgICB9LAogICAgY29tcHV0ZWQ6IHsKICAgICAgICAuLi5tYXBHZXR0ZXJzKFsiZ2V0U3RhdHVzU2lnbmF0dXJlIl0pLAogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgb3BlbmI6ZmFsc2UKICAgICAgICB9fSwKCiAgICBtZXRob2RzOiB7CiAgICAgICAgbWFrZVRvYXN0KHZhcmlhbnQgPSBudWxsLHR5cGU9ImluZm8iKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQbGVhc2UgZmlsbCB0aGUgZm9ybSBjb3JyZWN0bHknLHZhcmlhbnQpCiAgICAgICAgICAgIHN3aXRjaCAodHlwZSkgewogICAgICAgICAgICAgICAgY2FzZSAwOiB0eXBlPSJlcnJvciI7IGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAxOiB0eXBlPSJzdWNjZXNzIiA7IGJyZWFrOwogICAgICAgICAgICAgICAgY2FzZSAyOiB0eXBlPSJpbmZvIjsgYnJlYWs7CiAgICAgICAgICAgICAgICBjYXNlIDM6IHR5cGU9Indhcm5pbmciOyBicmVhazsKCiAgICAgICAgICAgIH0KCiAgICAgICAgICAgIHRoaXMuJHRvYXN0ZWQuc2hvdyh0aGlzLiR0KHZhcmlhbnQpLHt0eXBlOnR5cGV9KQogICAgICAgIH0sCiAgICAgICAgLi4ubWFwQWN0aW9ucyhbCiAgICAgICAgICAgICJzYXZlc2lnbmF0dXJlIgogICAgICAgIF0pLAogICAgICAgIHVuZG8oKSB7CiAgICAgICAgICAgIHRoaXMuJHJlZnMuc2lnbmF0dXJlUGFkLnVuZG9TaWduYXR1cmUoKTsKICAgICAgICB9LAogICAgICAgIHNhdmUoKSB7CiAgICAgICAgICAgIHRoaXMub3BlbmI9dHJ1ZQogICAgICAgICAgICBjb25zdCB7IGlzRW1wdHksIGRhdGEgfSA9IHRoaXMuJHJlZnMuc2lnbmF0dXJlUGFkLnNhdmVTaWduYXR1cmUoKTsKICAgICAgICAgICAgY29uc29sZS5sb2coaXNFbXB0eSk7CiAgICAgICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgICAgIC8vIGlmKGlzRW1wdHkpewogICAgICAgICAgICB0aGlzLnNhdmVzaWduYXR1cmUoe2ltYWdlVmFsdWU6ZGF0YSx2aXNpdGVJZDp0aGlzLnJvd2VzWzBdLmlkfSkKCiAgICAgICAgICAgIC8qIH1lbHNlewogICAgICAgICAgICAgICAgIHRoaXMubWFrZVRvYXN0KHRoaXMuJHQoJ3NpZ25hdHVyZV9lbXB0eScpLDApCiAgICAgICAgICAgICB9Ki8KCgogICAgICAgIH0KICAgIH0sCgogICAgbW91bnRlZCgpewogICAgICAgIGNvbnNvbGUubG9nKCdtb3VudGVkJyx0aGlzLnJvd2VzKQogICAgICAgIC8vY29uc29sZS5sb2coJ21vdW50ZWQnLHRoaXMucm93ZXNbMF0uaWQpCiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnJvd2VzID09PSAidW5kZWZpbmVkIil7CiAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2FsbHZpc2l0X2xpc3QnLCBwYXJhbXM6IHsgaWQ6ICcwJyB9fSkKICAgICAgICB9CiAgICB9LAoKICAgIHdhdGNoOiB7CgogICAgICAgIGdldFN0YXR1c1NpZ25hdHVyZTpmdW5jdGlvbih2YWx1ZSl7CiAgICAgICAgICAgIHRoaXMub3BlbmI9ZmFsc2UKICAgICAgICAgICAgY29uc29sZS5sb2coJ3ZhbHVlJyx2YWx1ZSkKCiAgICAgICAgICAgIGlmKHZhbHVlKXsKCiAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdzaWduYXR1cmUnLHZhbHVlKQoKICAgICAgICAgICAgICAgIC8vdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnYWxsdmlzaXRfbGlzdCcgfSkKICAgICAgICAgICAgICAgIHRoaXMubWFrZVRvYXN0KCdzaWduYXR1cmUgb2snLDEpCiAgICAgICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS52aXNpdHMuc2lnbmF0dXJlPWZhbHNlCgogICAgICAgICAgICB9ZWxzZXsKCiAgICAgICAgICAgICAgICB0aGlzLm1ha2VUb2FzdCgnc2lnbmF0dXJlIGUnLDApCgogICAgICAgICAgICB9CiAgICAgICAgfQogICAgfQp9Owo="},{"version":3,"sources":["signin.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA","file":"signin.vue","sourceRoot":"src/views/app/visit","sourcesContent":["<template>\r\n\r\n    <b-modal scrollable no-close-on-backdrop   id=\"signin\" size=\"lg\" hide-footer>\r\n\r\n        <b-overlay :show=\"openb\" rounded=\"sm\" >\r\n            <div id=\"app\" style=\"border: 4px solid #ffc107\">\r\n\r\n                <VueSignaturePad width=\"768px\" height=\"346px\" ref=\"signaturePad\" :options=\"{onBegin: () => {$refs.signaturePad.resizeCanvas()}}\" />\r\n\r\n                <div>\r\n                    <b-button  variant=\"outline-danger\" @click=\"$router.go(-1)\" style=\"margin-right: 10px\">{{$t('Annuler')}}</b-button>\r\n                    <b-button type=\"submit\" variant=\"outline-success rights\" @click=\"save()\" >{{$t('Enregistrer')}}</b-button>\r\n\r\n                </div>\r\n\r\n            </div>\r\n\r\n        </b-overlay>\r\n\r\n    </b-modal>\r\n\r\n</template>\r\n\r\n\r\n<script>\r\n\r\n\r\n    import { mapGetters,mapActions } from \"vuex\";\r\n    // import { makeToast } from '../../../plugins/functions'\r\n    export default {\r\n        name:\"signin\",\r\n        props:{\r\n            rowes:Array\r\n        },\r\n        computed: {\r\n            ...mapGetters([\"getStatusSignature\"]),\r\n        },\r\n        data() {\r\n            return {\r\n                openb:false\r\n            }},\r\n\r\n        methods: {\r\n            makeToast(variant = null,type=\"info\") {\r\n                console.log('Please fill the form correctly',variant)\r\n                switch (type) {\r\n                    case 0: type=\"error\"; break;\r\n                    case 1: type=\"success\" ; break;\r\n                    case 2: type=\"info\"; break;\r\n                    case 3: type=\"warning\"; break;\r\n\r\n                }\r\n\r\n                this.$toasted.show(this.$t(variant),{type:type})\r\n            },\r\n            ...mapActions([\r\n                \"savesignature\"\r\n            ]),\r\n            undo() {\r\n                this.$refs.signaturePad.undoSignature();\r\n            },\r\n            save() {\r\n                this.openb=true\r\n                const { isEmpty, data } = this.$refs.signaturePad.saveSignature();\r\n                console.log(isEmpty);\r\n                //console.log(data);\r\n                // if(isEmpty){\r\n                this.savesignature({imageValue:data,visiteId:this.rowes[0].id})\r\n\r\n                /* }else{\r\n                     this.makeToast(this.$t('signature_empty'),0)\r\n                 }*/\r\n\r\n\r\n            }\r\n        },\r\n\r\n        mounted(){\r\n            console.log('mounted',this.rowes)\r\n            //console.log('mounted',this.rowes[0].id)\r\n            if (typeof this.rowes === \"undefined\"){\r\n                this.$router.push({ name: 'allvisit_list', params: { id: '0' }})\r\n            }\r\n        },\r\n\r\n        watch: {\r\n\r\n            getStatusSignature:function(value){\r\n                this.openb=false\r\n                console.log('value',value)\r\n\r\n                if(value){\r\n\r\n                    this.$emit('signature',value)\r\n\r\n                    //this.$router.push({ name: 'allvisit_list' })\r\n                    this.makeToast('signature ok',1)\r\n                    this.$store.state.visits.signature=false\r\n\r\n                }else{\r\n\r\n                    this.makeToast('signature e',0)\r\n\r\n                }\r\n            }\r\n        }\r\n    };\r\n</script>"]}]}