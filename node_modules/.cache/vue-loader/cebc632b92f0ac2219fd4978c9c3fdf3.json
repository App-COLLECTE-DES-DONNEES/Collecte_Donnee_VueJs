{"remainingRequest":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macbookpro/IdeaProjects/collectedonnee/src/views/app/components/registerpartners_old.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/src/views/app/components/registerpartners_old.vue","mtime":1659178749150},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyByZXF1aXJlZCwgbWluTGVuZ3RoLCBtYXhMZW5ndGggfSBmcm9tICJ2dWVsaWRhdGUvbGliL3ZhbGlkYXRvcnMiOwoKZXhwb3J0IGRlZmF1bHQgewogICAgbmFtZToicmVnaXN0ZXJQYXJ0bmVycyIsCiAgICBwcm9wczp7CiAgICAgICAgaWQ6U3RyaW5nLAogICAgICAgIHRpdGxlOlN0cmluZywKICAgICAgICB0eXBlOlN0cmluZywKICAgICAgICBzdGF0dXQ6Qm9vbGVhbgogICAgfSwKICAgIGRhdGEoKSB7CiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgc3VibWl0U3RhdHVzOiBudWxsLAogICAgICAgICAgICBjbmk6JycsCiAgICAgICAgICAgIG5vbTogJycsCiAgICAgICAgICAgIHByZW5vbTogJycsCiAgICAgICAgICAgIHBob25lOiAnJywKICAgICAgICAgICAgc3RhdHVzOiBmYWxzZSwKICAgICAgICAgICAgYmlydGhkYXk6bnVsbCwKICAgICAgICAgICAgcGFzc3BvcnQ6bnVsbCwKICAgICAgICAgICAgcGVybWlfZGVfY29uZHVpcmU6bnVsbCwKICAgICAgICAgICAgc2hvdzogZmFsc2UKICAgICAgICB9CiAgICB9LAogICAgdmFsaWRhdGlvbnM6IHsKICAgICAgICBjbmk6IHsKICAgICAgICAgICAgcmVxdWlyZWQsCiAgICAgICAgICAgIG1pbkxlbmd0aDogbWluTGVuZ3RoKDkpCiAgICAgICAgfSwKICAgICAgICBub206IHsKICAgICAgICAgICAgcmVxdWlyZWQsCiAgICAgICAgICAgIG1pbkxlbmd0aDogbWluTGVuZ3RoKDQpCiAgICAgICAgfSwKICAgICAgICBwaG9uZTogewogICAgICAgICAgICByZXF1aXJlZCwKICAgICAgICAgICAgbWluTGVuZ3RoOiBtaW5MZW5ndGgoOSksCiAgICAgICAgICAgIG1heExlbmd0aDogbWF4TGVuZ3RoKDkpCiAgICAgICAgfSwKICAgIH0sCiAgICBtZXRob2RzOnsKICAgICAgICByZWdpc3RlckN1c3RvbWVyOiBmdW5jdGlvbihpdGVtKXsKCgogICAgICAgICAgICBsZXQgdGVzdD17fQogICAgICAgICAgICB0ZXN0ID0geyB2YXJpYW50Oml0ZW0sCiAgICAgICAgICAgICAgICBjbmk6IHRoaXMuY25pLAogICAgICAgICAgICAgICAgbm9tOiB0aGlzLm5vbSwKICAgICAgICAgICAgICAgIHByZW5vbTp0aGlzLnByZW5vbSwKICAgICAgICAgICAgICAgIHRlbGVwaG9uZTp0aGlzLnBob25lLAogICAgICAgICAgICAgICAgZGF0ZU5haXNzOih0aGlzLmJpcnRoZGF5IT09Jyc/dGhpcy5iaXJ0aGRheTpudWxsKSwKICAgICAgICAgICAgICAgIHBhc3Nwb3J0Oih0aGlzLnBhc3Nwb3J0IT09Jyc/dGhpcy5wYXNzcG9ydDpudWxsKSwKICAgICAgICAgICAgICAgIHBlcm1pczoodGhpcy5wZXJtaV9kZV9jb25kdWlyZSE9PScnP3RoaXMucGVybWlfZGVfY29uZHVpcmU6bnVsbCksCiAgICAgICAgICAgICAgICBkYXRlOm5ldyBEYXRlKCkudG9Mb2NhbGVEYXRlU3RyaW5nKCkgfQoKICAgICAgICAgICAgICAgIHRoaXMuc2hvdyA9ICF0aGlzLnNob3cKICAgICAgICAgICAgICAgIHRoaXMuJHYuJHRvdWNoKCk7CgogICAgICAgICAgICAgICAgaWYgKHRoaXMuJHYuJGludmFsaWQpIHsKCiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJtaXRTdGF0dXMgPSAiRVJST1IiOwogICAgICAgICAgICAgICAgICAgIHRoaXMuc2hvdyA9ICF0aGlzLnNob3cKICAgICAgICAgICAgICAgICAgICB0aGlzLm1ha2VUb2FzdCgiUmVtcGxpc3NleiBsZXMgY2hhbXBzIG9ibGlnYXRvaXJlcyIsImVycm9yIikKCiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIC8vIGRvIHlvdXIgc3VibWl0IGxvZ2ljIGhlcmUKICAgICAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pdFN0YXR1cyA9ICJQRU5ESU5HIjsKICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0U3RhdHVzID0gIk9LIjsKICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy4kZW1pdCgicmVnaXN0ZXJwYXJ0bmVycyIsdGVzdCk7CgogICAgICAgICAgICAgICAgICAgIH0sIDEwMDApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAvLwogICAgICAgIH0sCgogICAgICAgIHJlZ2lzdGVycCh2YWx1ZSl7CiAgICAgICAgICBjb25zb2xlLmxvZygncmVsYW5kZScsdmFsdWUpCiAgICAgICAgICAgIHRoaXMuc2hvdyA9IGZhbHNlCiAgICAgICAgICAgIGlmKHZhbHVlKXsKICAgICAgICAgICAgICAgICAgIHRoaXMubm9tPScnLAogICAgICAgICAgICAgICAgICAgIHRoaXMuY25pPScnLAogICAgICAgICAgICAgICAgICAgIHRoaXMucHJlbm9tID0gJycsCiAgICAgICAgICAgICAgICAgICAgdGhpcy5waG9uZSA9ICcnLAogICAgICAgICAgICAgICAgICAgIHRoaXMuYmlydGhkYXkgPSBudWxsLAogICAgICAgICAgICAgICAgICAgIHRoaXMucGFzc3BvcnQgPSBudWxsLAogICAgICAgICAgICAgICAgICAgIHRoaXMucGVybWlfZGVfY29uZHVpcmUgPSBudWxsCiAgICAgICAgICAgIH0KCiAgICAgICAgfSwKCgogICAgICAgIG1ha2VUb2FzdCh2YXJpYW50ID0gbnVsbCx0eXBlPSJpbmZvIikgewoKICAgICAgICAgICAgdGhpcy4kdG9hc3RlZC5zaG93KHZhcmlhbnQse3R5cGU6dHlwZX0pCiAgICAgICAgfSwKCiAgICAgICAgbWFrZVRvYXN0VHdvKHZhcmlhbnQgPSBudWxsKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTdWNjZXNzZnVsbHkgU3VibWl0dGVkJykKCiAgICAgICAgICAgIHRoaXMuJGJ2VG9hc3QudG9hc3QoIlN1Y2Nlc3NmdWxseSBTdWJtaXR0ZWQiLCB7CiAgICAgICAgICAgICAgICB0aXRsZTogYFZhcmlhbnQgJHt2YXJpYW50IHx8ICJkZWZhdWx0In1gLAogICAgICAgICAgICAgICAgdmFyaWFudDogdmFyaWFudCwKICAgICAgICAgICAgICAgIHNvbGlkOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgIH0sCiAgICAgICAgZm9jdXNPdXQoKXsKICAgICAgICAgICAgaWYgKFsnQXJyb3cnLCAnQmFja3NwYWNlJywgJ1NoaWZ0J10uaW5jbHVkZXMoZXZlbnQua2V5KSkgewogICAgICAgICAgICAgICAgdGhpcy5wcmV2ZW50TmV4dEl0ZXJhdGlvbiA9IHRydWU7CiAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKHRoaXMucHJldmVudE5leHRJdGVyYXRpb24pIHsKICAgICAgICAgICAgICAgIHRoaXMucHJldmVudE5leHRJdGVyYXRpb24gPSBmYWxzZTsKICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQoKICAgICAgICAgICAgLy90aGlzLnJlZmVyZW5jZVZhbHVlID0gdGhpcy5mb3JtYXR0ZWRyZWZlcmVuY2VWYWx1ZS5yZXBsYWNlKC9ccy9nLCAnJykubWF0Y2goLyhbYS16QS1aMC05XSkvZylbMF07CiAgICAgICAgICAgIHRoaXMubm9tID0gdGhpcy5ub20ucmVwbGFjZSgvW15hLXpBLVogXS9nLCAiIik7CiAgICAgICAgICAgIHRoaXMubm9tID0gdGhpcy5ub20udG9VcHBlckNhc2UoKQoKICAgICAgICB9CiAgICB9Cn0K"},{"version":3,"sources":["registerpartners_old.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsKA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"registerpartners_old.vue","sourceRoot":"src/views/app/components","sourcesContent":["<template>\n\n        <b-modal :id=\"id\" scrollable no-close-on-backdrop :title=\"title\" :show=\"statut\" hide-footer>\n\n        <template #default=\"{ hide }\">\n\n            <b-overlay :show=\"show\" rounded=\"sm\">\n            <b-form :aria-hidden=\"show ? 'true' : null\" @submit.prevent=\"registerCustomer(type)\">\n\n                <b-form-group\n                        class=\"col-md-10 mb-30\"\n                        :label=\"$t('cnis')\"\n                        label-for=\"input-1\"\n                >\n\n                    <b-form-input\n\n                            v-model.trim=\"$v.cni.$model\"\n                            type=\"number\"\n                            :placeholder=\"$t('cni')\"\n                    ></b-form-input>\n\n                    <b-alert\n                            show\n                            variant=\"danger\"\n                            class=\"error col-md-12 mt-1\"\n                            v-if=\"!$v.cni.minLength\"\n                    >{{$t('validator_cni')}}\n                        {{ $v.cni.$params.minLength.min }} {{$t('letters')}}  .</b-alert\n                    >\n\n                </b-form-group>\n                <b-form-group\n                        class=\"col-md-10 mb-30\"\n                        :label=\"$t('nom_label')\"\n                        label-for=\"input-1\"\n                >\n\n                    <b-form-input\n\n                            v-model.trim=\"$v.nom.$model\"\n                            type=\"text\"\n                            :placeholder=\"$t('prooftag')\"\n                            @keyup=\"focusOut\"\n                            @blur=\"focusOut\"\n                    ></b-form-input>\n                    <b-alert\n                            show\n                            variant=\"danger\"\n                            class=\"error col-md-12 mt-1\"\n                            v-if=\"!$v.nom.minLength\"\n                    >{{$t('validator_nom')}}\n                        {{ $v.nom.$params.minLength.min }} {{$t('letters')}}  .</b-alert\n                    >\n\n                </b-form-group>\n\n\n                <b-form-group\n                        class=\"col-md-10 mb-30\"\n                        :label=\"$t('prenom_label')\"\n                        label-for=\"input-1\"\n                >\n                    <b-form-input\n\n                            v-model=\"prenom\"\n                            type=\"text\"\n                            :placeholder=\"$t('prenom')\"\n                    ></b-form-input>\n\n                </b-form-group>\n                <b-form-group\n                        class=\"col-md-10 mb-30\"\n                        :label=\"$t('tel')\"\n                        label-for=\"input-1\"\n                >\n                    <b-form-input\n\n                            v-model=\"phone\"\n                            type=\"number\"\n                            :placeholder=\"$t('tels')\"\n                    ></b-form-input>\n\n                    <b-alert\n                            show\n                            variant=\"danger\"\n                            class=\"error col-md-12 mt-1\"\n                            v-if=\"!$v.phone.minLength\"\n                    >{{$t('validator_phone')}}\n                        {{ $v.phone.$params.minLength.min }} {{$t('letters')}}  .</b-alert\n                    >\n                    <b-alert\n                            show\n                            variant=\"danger\"\n                            class=\"error col-md-12 mt-1\"\n                            v-if=\"!$v.phone.maxLength\"\n                    >{{$t('validator_phone_max')}}\n                        {{ $v.phone.$params.maxLength.max }} {{$t('letters')}}  .</b-alert\n                    >\n\n                </b-form-group>\n\n                <b-form-group\n                        class=\"col-md-10 mb-30\"\n                        :label=\"$t('birthday')\"\n                        label-for=\"input-1\"\n                >\n                    <b-form-datepicker id=\"example-datepicker\"  v-model=\"birthday\" class=\"mb-2\"></b-form-datepicker>\n\n                </b-form-group>\n                <b-form-group\n                        class=\"col-md-10 mb-30\"\n                        :label=\"$t('passports')\"\n                        label-for=\"input-1\"\n                >\n                    <b-form-input\n\n                            v-model=\"passport\"\n                            type=\"number\"\n                            :placeholder=\"$t('passport')\"\n                    ></b-form-input>\n\n                </b-form-group>\n                <b-form-group\n                        class=\"col-md-10 mb-30\"\n                        :label=\"$t('permi')\"\n                        label-for=\"input-1\"\n                >\n                    <b-form-input\n\n                            v-model=\"permi_de_conduire\"\n                            type=\"number\"\n                            :placeholder=\"$t('permis')\"\n                    ></b-form-input>\n\n                </b-form-group>\n\n\n                <p></p>\n\n                <div style=\"text-align: right\">\n                    <b-button  @click=\"hide()\" variant=\"outline-danger\" style=\"margin-right: 15px\">{{$t('Annuler')}}</b-button>\n                    <b-button type=\"submit\" variant=\"outline-success rights\" style=\"position: relative;right: 0;margin-right: 10px;\">{{$t('Enregistrer')}}</b-button>\n                </div>\n\n                <p class=\"typo__p\" v-if=\"submitStatus === 'OK'\">\n                    <!--{{ makeToast(\"success\",\"success\") }}-->\n                </p>\n                <p  class=\"typo__p\" v-if=\"submitStatus === 'ERROR'\">\n                    <!--{{ makeToast(\"Remplissez les champs obligatoires\",\"error\") }}-->\n\n                </p>\n                <div  class=\"typo__p\" v-if=\"submitStatus === 'PENDING'\">\n                    <div class=\"spinner sm spinner-primary mt-3\"></div>\n                </div>\n\n            </b-form>\n            </b-overlay>\n        </template>\n\n    </b-modal>\n\n</template>\n\n<script>\n\n    import { required, minLength, maxLength } from \"vuelidate/lib/validators\";\n\n    export default {\n        name:\"registerPartners\",\n        props:{\n            id:String,\n            title:String,\n            type:String,\n            statut:Boolean\n        },\n        data() {\n            return {\n                submitStatus: null,\n                cni:'',\n                nom: '',\n                prenom: '',\n                phone: '',\n                status: false,\n                birthday:null,\n                passport:null,\n                permi_de_conduire:null,\n                show: false\n            }\n        },\n        validations: {\n            cni: {\n                required,\n                minLength: minLength(9)\n            },\n            nom: {\n                required,\n                minLength: minLength(4)\n            },\n            phone: {\n                required,\n                minLength: minLength(9),\n                maxLength: maxLength(9)\n            },\n        },\n        methods:{\n            registerCustomer: function(item){\n\n\n                let test={}\n                test = { variant:item,\n                    cni: this.cni,\n                    nom: this.nom,\n                    prenom:this.prenom,\n                    telephone:this.phone,\n                    dateNaiss:(this.birthday!==''?this.birthday:null),\n                    passport:(this.passport!==''?this.passport:null),\n                    permis:(this.permi_de_conduire!==''?this.permi_de_conduire:null),\n                    date:new Date().toLocaleDateString() }\n\n                    this.show = !this.show\n                    this.$v.$touch();\n\n                    if (this.$v.$invalid) {\n\n                        this.submitStatus = \"ERROR\";\n                        this.show = !this.show\n                        this.makeToast(\"Remplissez les champs obligatoires\",\"error\")\n\n                    } else {\n                        // do your submit logic here\n                        this.submitStatus = \"PENDING\";\n                        setTimeout(() => {\n\n                            this.submitStatus = \"OK\";\n                            this.$emit(\"registerpartners\",test);\n\n                        }, 1000);\n                    }\n                //\n            },\n\n            registerp(value){\n              console.log('relande',value)\n                this.show = false\n                if(value){\n                       this.nom='',\n                        this.cni='',\n                        this.prenom = '',\n                        this.phone = '',\n                        this.birthday = null,\n                        this.passport = null,\n                        this.permi_de_conduire = null\n                }\n\n            },\n\n\n            makeToast(variant = null,type=\"info\") {\n\n                this.$toasted.show(variant,{type:type})\n            },\n\n            makeToastTwo(variant = null) {\n                console.log('Successfully Submitted')\n\n                this.$bvToast.toast(\"Successfully Submitted\", {\n                    title: `Variant ${variant || \"default\"}`,\n                    variant: variant,\n                    solid: true\n                });\n            },\n            focusOut(){\n                if (['Arrow', 'Backspace', 'Shift'].includes(event.key)) {\n                    this.preventNextIteration = true;\n                    return;\n                }\n                if (this.preventNextIteration) {\n                    this.preventNextIteration = false;\n                    return;\n                }\n\n                //this.referenceValue = this.formattedreferenceValue.replace(/\\s/g, '').match(/([a-zA-Z0-9])/g)[0];\n                this.nom = this.nom.replace(/[^a-zA-Z ]/g, \"\");\n                this.nom = this.nom.toUpperCase()\n\n            }\n        }\n    }\n</script>"]}]}