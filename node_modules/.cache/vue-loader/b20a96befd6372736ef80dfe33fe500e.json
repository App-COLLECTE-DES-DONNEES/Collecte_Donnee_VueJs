{"remainingRequest":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/macbookpro/IdeaProjects/collectedonnee/src/views/app/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/src/views/app/index.vue","mtime":1659355124631},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/macbookpro/IdeaProjects/collectedonnee/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgppbXBvcnQgeyBtYXBHZXR0ZXJzLG1hcEFjdGlvbnMgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnCgoKZXhwb3J0IGRlZmF1bHQgewoKCiAgY29tcG9uZW50czoge30sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7fTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICAuLi5tYXBHZXR0ZXJzKFsiZ2V0VGhlbWVNb2RlIiwiR0VUQ09VTlRSWSJdKSwKICB9LAoKICAgIG1ldGhvZHM6ewogICAgICAgIC4uLm1hcEFjdGlvbnMoWyJnZXRjb3VudHJ5Il0pCiAgICB9LAoKICBtb3VudGVkKCl7CgogICAgICB0aGlzLmdldGNvdW50cnkoKQogICAgICB0cnl7CgogICAgICAgICAgaWYoVnVlLnByb3RvdHlwZS4ka2V5Y2xvYWsuYXV0aGVudGljYXRlZCl7CgogICAgICAgICAgICAgIHRoaXMubG9nZ2VkSW5Vc2VyID0gdHJ1ZQogICAgICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLmF1dGhEYXRhLnVzZXJuYW1lID0gVnVlLnByb3RvdHlwZS4ka2V5Y2xvYWsudG9rZW5QYXJzZWQucHJlZmVycmVkX3VzZXJuYW1lCiAgICAgICAgICAgICAgdGhpcy4kc3RvcmUuc3RhdGUuYXV0aERhdGEucm9sZSA9IFZ1ZS5wcm90b3R5cGUuJGtleWNsb2FrLnRva2VuUGFyc2VkLnJlYWxtX2FjY2Vzcy5yb2xlcwogICAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCd1c2VyaW5mbycsIEpTT04uc3RyaW5naWZ5KFZ1ZS5wcm90b3R5cGUuJGtleWNsb2FrLnRva2VuUGFyc2VkKSk7CgkJCQljb25zb2xlLmxvZygndXNlcmluZm8nLFZ1ZS5wcm90b3R5cGUuJGtleWNsb2FrKQogICAgICAgICAgICAgIGlmKHRoaXMuJHN0b3JlLnN0YXRlLmF1dGhEYXRhLnJvbGUuaW5kZXhPZignY2cnKSAhPT0gLTEpewogICAgICAgICAgICAgICAgICB0aGlzLiRyb3V0ZXIucHVzaCh7IG5hbWU6ICdjZycsIHBhcmFtczogeyBpZDogJzAnIH19KQogICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgfQogICAgICAgICAgICBpZih0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoRGF0YS5yb2xlLmluZGV4T2YoJ2hvcGl0YWwnKSAhPT0gLTEpewogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2hvc3BpdGFsJywgcGFyYW1zOiB7IGlkOiAnMCcgfX0pCiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGlmKHRoaXMuJHN0b3JlLnN0YXRlLmF1dGhEYXRhLnJvbGUuaW5kZXhPZigncG9saWNpZXInKSAhPT0gLTEpewogICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHsgbmFtZTogJ2FjY2lkZW50cycsIHBhcmFtczogeyBpZDogJzAnIH19KQogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmKHRoaXMuJHN0b3JlLnN0YXRlLmF1dGhEYXRhLnJvbGUuaW5kZXhPZignY29udHJvbGV1cicpICE9PSAtMSl7CiAgICAgICAgICAgICAgICAgIHRoaXMuJHJvdXRlci5wdXNoKHtuYW1lOiAndmlzaXRfc3RhcnQnfSkKICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZih0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoRGF0YS5yb2xlLmluZGV4T2YoJ2NhaXNzaWVyJykgIT09IC0xKXsKICAgICAgICAgICAgICAgICAgdGhpcy4kcm91dGVyLnB1c2goeyBuYW1lOiAnYm94J30pCiAgICAgICAgICAgICAgICAgIHJldHVybiA7CiAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKCdyb2xlcycsVnVlLnByb3RvdHlwZS4ka2V5Y2xvYWsudG9rZW5QYXJzZWQub3JnYW5pc2F0aW9uSWQpCgogICAgICAgICAgfWVsc2V7CiAgICAgICAgICAgICAgY29uc29sZS5sb2coJ25vdCBsb2dnZWQnKQogICAgICAgICAgfQogICAgICB9Y2F0Y2goZSl7CiAgICAgICAgICBjb25zb2xlLmxvZygnZXJyb3InKQogICAgICB9CiAgfSwKICAgIHdhdGNoOiB7CiAgICAgICAgR0VUQ09VTlRSWTpmdW5jdGlvbih2YWx1ZSl7CgogICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS5hdXRoRGF0YS5jb3VudHJ5ID0nPGI+JyArdmFsdWUubm9tKyc8L2I+ICcgICArIHZhbHVlLmFkcmVzcyArICIgIit2YWx1ZS50ZWwxCgogICAgICAgICAgICBjb25zb2xlLmxvZygnc3RhbmRhcmQnLHRoaXMuJHN0b3JlLnN0YXRlLmF1dGhEYXRhLmNvdW50cnkpCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdyZWdpb24nLCAodmFsdWUucmVnaW9uKSk7CiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCdkZXZpc2UnLCAodmFsdWUuZGV2aXNlKSk7CgogICAgICAgIH0sCgogICAgfQoKfTsKCgo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;AAYA;AACA;;;AAGA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA","file":"index.vue","sourceRoot":"src/views/app","sourcesContent":["<template>\n  <div>\n    <!-- <keep-alive> -->\n    <component :is=\"getThemeMode.layout\"></component>\n    <!-- </keep-alive> -->\n\n  </div>\n\n</template>\n\n<script>\n\nimport { mapGetters,mapActions } from \"vuex\";\nimport Vue from 'vue'\n\n\nexport default {\n\n\n  components: {},\n  data() {\n    return {};\n  },\n  computed: {\n    ...mapGetters([\"getThemeMode\",\"GETCOUNTRY\"]),\n  },\n\n    methods:{\n        ...mapActions([\"getcountry\"])\n    },\n\n  mounted(){\n\n      this.getcountry()\n      try{\n\n          if(Vue.prototype.$keycloak.authenticated){\n\n              this.loggedInUser = true\n              this.$store.state.authData.username = Vue.prototype.$keycloak.tokenParsed.preferred_username\n              this.$store.state.authData.role = Vue.prototype.$keycloak.tokenParsed.realm_access.roles\n              localStorage.setItem('userinfo', JSON.stringify(Vue.prototype.$keycloak.tokenParsed));\n\t\t\t\tconsole.log('userinfo',Vue.prototype.$keycloak)\n              if(this.$store.state.authData.role.indexOf('cg') !== -1){\n                  this.$router.push({ name: 'cg', params: { id: '0' }})\n                  return;\n              }\n            if(this.$store.state.authData.role.indexOf('hopital') !== -1){\n              this.$router.push({ name: 'hospital', params: { id: '0' }})\n              return;\n            }\n            if(this.$store.state.authData.role.indexOf('policier') !== -1){\n              this.$router.push({ name: 'accidents', params: { id: '0' }})\n              return;\n            }\n              if(this.$store.state.authData.role.indexOf('controleur') !== -1){\n                  this.$router.push({name: 'visit_start'})\n                  return;\n              }\n              if(this.$store.state.authData.role.indexOf('caissier') !== -1){\n                  this.$router.push({ name: 'box'})\n                  return ;\n              }\n\n              //console.log('roles',Vue.prototype.$keycloak.tokenParsed.organisationId)\n\n          }else{\n              console.log('not logged')\n          }\n      }catch(e){\n          console.log('error')\n      }\n  },\n    watch: {\n        GETCOUNTRY:function(value){\n\n            this.$store.state.authData.country ='<b>' +value.nom+'</b> '   + value.adress + \" \"+value.tel1\n\n            console.log('standard',this.$store.state.authData.country)\n            localStorage.setItem('region', (value.region));\n            localStorage.setItem('devise', (value.devise));\n\n        },\n\n    }\n\n};\n\n\n</script>\n\n\n"]}]}