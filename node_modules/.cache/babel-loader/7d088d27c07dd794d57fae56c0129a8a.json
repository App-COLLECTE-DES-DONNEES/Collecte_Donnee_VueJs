{"remainingRequest":"C:\\wamp64\\www\\toolsmctc\\node_modules\\babel-loader\\lib\\index.js!C:\\wamp64\\www\\toolsmctc\\node_modules\\eslint-loader\\index.js??ref--13-0!C:\\wamp64\\www\\toolsmctc\\src\\main.js","dependencies":[{"path":"C:\\wamp64\\www\\toolsmctc\\src\\main.js","mtime":1603916920649},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"C:\\wamp64\\www\\toolsmctc\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJDOlxcd2FtcDY0XFx3d3dcXHRvb2xzbWN0Y1xcbm9kZV9tb2R1bGVzXFxjb3JlLWpzXFxtb2R1bGVzXFxlcy5hcnJheS5pdGVyYXRvci5qcyI7CmltcG9ydCAiQzpcXHdhbXA2NFxcd3d3XFx0b29sc21jdGNcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMucHJvbWlzZS5qcyI7CmltcG9ydCAiQzpcXHdhbXA2NFxcd3d3XFx0b29sc21jdGNcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMub2JqZWN0LmFzc2lnbi5qcyI7CmltcG9ydCAiQzpcXHdhbXA2NFxcd3d3XFx0b29sc21jdGNcXG5vZGVfbW9kdWxlc1xcY29yZS1qc1xcbW9kdWxlc1xcZXMucHJvbWlzZS5maW5hbGx5LmpzIjsKaW1wb3J0IFZ1ZSBmcm9tICd2dWUnOwppbXBvcnQgQXBwIGZyb20gJy4vQXBwLnZ1ZSc7CmltcG9ydCByb3V0ZXIgZnJvbSAnLi9yb3V0ZXInOwppbXBvcnQgc3RvcmUgZnJvbSAnLi9zdG9yZSc7CmltcG9ydCBHdWxsS2l0IGZyb20gIi4vcGx1Z2lucy9ndWxsLmtpdCI7CmltcG9ydCBWdWVDb21wb3NpdGlvbkFQSSBmcm9tICdAdnVlL2NvbXBvc2l0aW9uLWFwaSc7CmltcG9ydCBCcmVhZGN1bWIgZnJvbSAiLi9jb21wb25lbnRzL2JyZWFkY3VtYiI7CmltcG9ydCBpMThuIGZyb20gIi4vbGFuZy9sYW5nIjsKaW1wb3J0IFZ1ZWxpZGF0ZSBmcm9tICd2dWVsaWRhdGUnOwpWdWUuY29tcG9uZW50KCJicmVhZGN1bWIiLCBCcmVhZGN1bWIpOwpWdWUuY29uZmlnLnByb2R1Y3Rpb25UaXAgPSBmYWxzZTsKVnVlLnVzZShHdWxsS2l0KTsKVnVlLnVzZShWdWVDb21wb3NpdGlvbkFQSSk7ClZ1ZS51c2UoVnVlbGlkYXRlKTsKdmFyIGluaXRPcHRpb25zID0gewogIHVybDogJ2h0dHBzOi8vMC4wLjAuMDo4NDQ1L2F1dGgnLAogIHJlYWxtOiAndG9vbHNtY3RjJywKICBjbGllbnRJZDogJ3Z1ZS10ZXN0LWFwcCcsCiAgb25Mb2FkOiAnbG9naW4tcmVxdWlyZWQnCn07CnZhciBrZXljbG9hayA9IEtleWNsb2FrKGluaXRPcHRpb25zKTsKa2V5Y2xvYWsuaW5pdCh7CiAgb25Mb2FkOiBpbml0T3B0aW9ucy5vbkxvYWQKfSkuc3VjY2VzcyhmdW5jdGlvbiAoYXV0aCkgewogIGlmICghYXV0aCkgewogICAgd2luZG93LmxvY2F0aW9uLnJlbG9hZCgpOwogIH0gZWxzZSB7CiAgICBWdWUuJGxvZy5pbmZvKCJBdXRoZW50aWNhdGVkIik7CiAgfQoKICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbSgidnVlLXRva2VuIiwga2V5Y2xvYWsudG9rZW4pOwogIGxvY2FsU3RvcmFnZS5zZXRJdGVtKCJ2dWUtcmVmcmVzaC10b2tlbiIsIGtleWNsb2FrLnJlZnJlc2hUb2tlbik7CiAgc2V0SW50ZXJ2YWwoZnVuY3Rpb24gKCkgewogICAga2V5Y2xvYWsudXBkYXRlVG9rZW4oNzApLnN1Y2Nlc3MoZnVuY3Rpb24gKHJlZnJlc2hlZCkgewogICAgICBpZiAocmVmcmVzaGVkKSB7CiAgICAgICAgVnVlLiRsb2cuZGVidWcoJ1Rva2VuIHJlZnJlc2hlZCcgKyByZWZyZXNoZWQpOwogICAgICB9IGVsc2UgewogICAgICAgIFZ1ZS4kbG9nLndhcm4oJ1Rva2VuIG5vdCByZWZyZXNoZWQsIHZhbGlkIGZvciAnICsgTWF0aC5yb3VuZChrZXljbG9hay50b2tlblBhcnNlZC5leHAgKyBrZXljbG9hay50aW1lU2tldyAtIG5ldyBEYXRlKCkuZ2V0VGltZSgpIC8gMTAwMCkgKyAnIHNlY29uZHMnKTsKICAgICAgfQogICAgfSkuZXJyb3IoZnVuY3Rpb24gKCkgewogICAgICBWdWUuJGxvZy5lcnJvcignRmFpbGVkIHRvIHJlZnJlc2ggdG9rZW4nKTsKICAgIH0pOwogIH0sIDYwMDAwKTsKfSkuZXJyb3IoZnVuY3Rpb24gKCkgewogIFZ1ZS4kbG9nLmVycm9yKCJBdXRoZW50aWNhdGVkIEZhaWxlZCIpOwp9KTsKbmV3IFZ1ZSh7CiAgcm91dGVyOiByb3V0ZXIsCiAgc3RvcmU6IHN0b3JlLAogIGkxOG46IGkxOG4sCiAgcmVuZGVyOiBmdW5jdGlvbiByZW5kZXIoaCkgewogICAgcmV0dXJuIGgoQXBwKTsKICB9Cn0pLiRtb3VudCgnI2FwcCcpOw=="},{"version":3,"sources":["C:/wamp64/www/toolsmctc/src/main.js"],"names":["Vue","App","router","store","GullKit","VueCompositionAPI","Breadcumb","i18n","Vuelidate","component","config","productionTip","use","initOptions","url","realm","clientId","onLoad","keycloak","Keycloak","init","success","auth","window","location","reload","$log","info","localStorage","setItem","token","refreshToken","setInterval","updateToken","refreshed","debug","warn","Math","round","tokenParsed","exp","timeSkew","Date","getTime","error","render","h","$mount"],"mappings":";;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,GAAP,MAAgB,WAAhB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,OAAP,MAAoB,oBAApB;AACA,OAAOC,iBAAP,MAA8B,sBAA9B;AACA,OAAOC,SAAP,MAAsB,wBAAtB;AACA,OAAOC,IAAP,MAAiB,aAAjB;AACA,OAAOC,SAAP,MAAsB,WAAtB;AAEAR,GAAG,CAACS,SAAJ,CAAc,WAAd,EAA2BH,SAA3B;AAEAN,GAAG,CAACU,MAAJ,CAAWC,aAAX,GAA2B,KAA3B;AACAX,GAAG,CAACY,GAAJ,CAAQR,OAAR;AACAJ,GAAG,CAACY,GAAJ,CAAQP,iBAAR;AACAL,GAAG,CAACY,GAAJ,CAAQJ,SAAR;AAEA,IAAIK,WAAW,GAAG;AACdC,EAAAA,GAAG,EAAE,2BADS;AACoBC,EAAAA,KAAK,EAAE,WAD3B;AACwCC,EAAAA,QAAQ,EAAE,cADlD;AACkEC,EAAAA,MAAM,EAAC;AADzE,CAAlB;AAGA,IAAIC,QAAQ,GAAGC,QAAQ,CAACN,WAAD,CAAvB;AACAK,QAAQ,CAACE,IAAT,CAAc;AAAEH,EAAAA,MAAM,EAAEJ,WAAW,CAACI;AAAtB,CAAd,EAA8CI,OAA9C,CAAsD,UAACC,IAAD,EAAS;AAE3D,MAAG,CAACA,IAAJ,EAAU;AACNC,IAAAA,MAAM,CAACC,QAAP,CAAgBC,MAAhB;AACH,GAFD,MAEO;AACHzB,IAAAA,GAAG,CAAC0B,IAAJ,CAASC,IAAT,CAAc,eAAd;AACH;;AAGDC,EAAAA,YAAY,CAACC,OAAb,CAAqB,WAArB,EAAkCX,QAAQ,CAACY,KAA3C;AACAF,EAAAA,YAAY,CAACC,OAAb,CAAqB,mBAArB,EAA0CX,QAAQ,CAACa,YAAnD;AAEAC,EAAAA,WAAW,CAAC,YAAK;AACbd,IAAAA,QAAQ,CAACe,WAAT,CAAqB,EAArB,EAAyBZ,OAAzB,CAAiC,UAACa,SAAD,EAAa;AAC1C,UAAIA,SAAJ,EAAe;AACXlC,QAAAA,GAAG,CAAC0B,IAAJ,CAASS,KAAT,CAAe,oBAAmBD,SAAlC;AACH,OAFD,MAEO;AACHlC,QAAAA,GAAG,CAAC0B,IAAJ,CAASU,IAAT,CAAc,oCACRC,IAAI,CAACC,KAAL,CAAWpB,QAAQ,CAACqB,WAAT,CAAqBC,GAArB,GAA2BtB,QAAQ,CAACuB,QAApC,GAA+C,IAAIC,IAAJ,GAAWC,OAAX,KAAuB,IAAjF,CADQ,GACiF,UAD/F;AAEH;AACJ,KAPD,EAOGC,KAPH,CAOS,YAAI;AACT5C,MAAAA,GAAG,CAAC0B,IAAJ,CAASkB,KAAT,CAAe,yBAAf;AACH,KATD;AAYH,GAbU,EAaR,KAbQ,CAAX;AAeH,CA3BD,EA2BGA,KA3BH,CA2BS,YAAK;AACV5C,EAAAA,GAAG,CAAC0B,IAAJ,CAASkB,KAAT,CAAe,sBAAf;AACH,CA7BD;AAgCA,IAAI5C,GAAJ,CAAQ;AACNE,EAAAA,MAAM,EAANA,MADM;AAENC,EAAAA,KAAK,EAALA,KAFM;AAGJI,EAAAA,IAAI,EAAJA,IAHI;AAINsC,EAAAA,MAAM,EAAE,gBAAAC,CAAC;AAAA,WAAIA,CAAC,CAAC7C,GAAD,CAAL;AAAA;AAJH,CAAR,EAKG8C,MALH,CAKU,MALV","sourcesContent":["import Vue from 'vue'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport GullKit from \"./plugins/gull.kit\";\r\nimport VueCompositionAPI from '@vue/composition-api'\r\nimport Breadcumb from \"./components/breadcumb\";\r\nimport i18n from \"./lang/lang\";\r\nimport Vuelidate from 'vuelidate'\r\n\r\nVue.component(\"breadcumb\", Breadcumb);\r\n\r\nVue.config.productionTip = false\r\nVue.use(GullKit);\r\nVue.use(VueCompositionAPI);\r\nVue.use(Vuelidate)\r\n\r\nlet initOptions = {\r\n    url: 'https://0.0.0.0:8445/auth', realm: 'toolsmctc', clientId: 'vue-test-app', onLoad:'login-required'\r\n}\r\nlet keycloak = Keycloak(initOptions);\r\nkeycloak.init({ onLoad: initOptions.onLoad }).success((auth) =>{\r\n\r\n    if(!auth) {\r\n        window.location.reload();\r\n    } else {\r\n        Vue.$log.info(\"Authenticated\");\r\n    }\r\n\r\n\r\n    localStorage.setItem(\"vue-token\", keycloak.token);\r\n    localStorage.setItem(\"vue-refresh-token\", keycloak.refreshToken);\r\n\r\n    setInterval(() =>{\r\n        keycloak.updateToken(70).success((refreshed)=>{\r\n            if (refreshed) {\r\n                Vue.$log.debug('Token refreshed'+ refreshed);\r\n            } else {\r\n                Vue.$log.warn('Token not refreshed, valid for '\r\n                    + Math.round(keycloak.tokenParsed.exp + keycloak.timeSkew - new Date().getTime() / 1000) + ' seconds');\r\n            }\r\n        }).error(()=>{\r\n            Vue.$log.error('Failed to refresh token');\r\n        });\r\n\r\n\r\n    }, 60000)\r\n\r\n}).error(() =>{\r\n    Vue.$log.error(\"Authenticated Failed\");\r\n});\r\n\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n    i18n,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n"]}]}